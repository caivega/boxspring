(function(a){var b={},c=function(d){var e=b[d];if(!e){e=b[d]={};var f=e.exports={};a[d].call(f,c,e,f,window)}return e.exports};window.boxspring=c("0")})({0:function(a,b,c,d){"use strict",a("1"),a("9"),a("g"),a("z"),a("11"),a("1e"),a("1i"),b.exports=boxspring},1:function(a,b,c,d){"use strict",d.boxspring===undefined&&(d.boxspring={}),d._=a("2"),_.mixin({include:function(a,b){var c=_.indexOf(a,b);c<0&&a.push(b)},remove:function(a,b){var c=_.indexOf(a,b);c>-1&&a.splice(c,1)}}),boxspring.version="0.0.1-dev",a("3"),a("4"),a("5"),a("6"),a("7"),a("8")},2:function(a,b,c,d){(function(a){function R(a,b,c){var d=(c||0)-1,e=a.length;while(++d<e)if(a[d]===b)return d;return-1}function S(a,b){var c=typeof b;a=a.cache;if(c=="boolean"||b==null)return a[b];c!="number"&&c!="string"&&(c="object");var d=c=="number"?b:j+b;return a=a[c]||(a[c]={}),c=="object"?a[d]&&R(a[d],b)>-1?0:-1:a[d]?0:-1}function T(a){var b=this.cache,c=typeof a;if(c=="boolean"||a==null)b[a]=!0;else{c!="number"&&c!="string"&&(c="object");var d=c=="number"?a:j+a,e=b[c]||(b[c]={});c=="object"?(e[d]||(e[d]=[])).push(a)==this.array.length&&(b[c]=!1):e[d]=!0}}function U(a){return a.charCodeAt(0)}function V(a,b){var c=a.index,d=b.index;a=a.criteria,b=b.criteria;if(a!==b){if(a>b||typeof a=="undefined")return 1;if(a<b||typeof b=="undefined")return-1}return c<d?-1:1}function W(a){var b=-1,c=a.length,d=Z();d["false"]=d["null"]=d["true"]=d["undefined"]=!1;var e=Z();e.array=a,e.cache=d,e.push=T;while(++b<c)e.push(a[b]);return d.object===!1?(ab(e),null):e}function X(a){return"\\"+N[a]}function Y(){return f.pop()||[]}function Z(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,"undefined":!1,value:null}}function $(){}function _(a){a.length=0,f.length<l&&f.push(a)}function ab(a){var b=a.cache;b&&ab(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,g.length<l&&g.push(a)}function bb(a,b,c){b||(b=0),typeof c=="undefined"&&(c=a?a.length:0);var d=-1,e=c-b||0,f=Array(e<0?0:e);while(++d<e)f[d]=a[b+d];return f}function cb(b){function Ib(a){return a&&typeof a=="object"&&!Tb(a)&&ob.call(a,"__wrapped__")?a:new Jb(a)}function Jb(a){this.__wrapped__=a}function Lb(a,b,c,d){function i(){var d=arguments,j=f?this:b;e||(a=b[g]),c.length&&(d=d.length?(d=Eb.call(d),h?d.concat(c):c.concat(d)):c);if(this instanceof i){j=Mb(a.prototype);var k=a.apply(j,d);return nc(k)?k:j}return a.apply(j,d)}var e=mc(a),f=!c,g=b;if(f){var h=d;c=b}else if(!e){if(!d)throw new T;b=a}return i}function Mb(a){return nc(a)?vb(a):{}}function Nb(a){return Wb[a]}function Ob(a,b,c){var d=(d=Ib.indexOf)===ad?R:d;return d}function Pb(a){return function(b,c,d,f){return typeof c!="boolean"&&c!=null&&(f=d,d=!f||f[c]!==b?c:e,c=!1),d!=null&&(d=Ib.createCallback(d,f)),a(b,c,d,f)}}function Qb(a){var b,c;return!!a&&tb.call(a)==I&&(b=a.constructor,!mc(b)||b instanceof b)?(bc(a,function(a,b){c=b}),c===e||ob.call(a,c)):!1}function Rb(a){return Xb[a]}function Sb(a){return tb.call(a)==B}function Zb(a,b,c,d,f,g){var h=a;typeof b!="boolean"&&b!=null&&(d=c,c=b,b=!1);if(typeof c=="function"){c=typeof d=="undefined"?c:Ib.createCallback(c,d,1),h=c(h);if(typeof h!="undefined")return h;h=a}var i=nc(h);if(i){var j=tb.call(h);if(!L[j])return h;var k=Tb(h)}if(!i||!b)return i?k?bb(h):Yb({},h):h;var l=Hb[j];switch(j){case D:case E:return new l(+h);case H:case K:return new l(h);case J:return l(h.source,r.exec(h))}var m=!f;f||(f=Y()),g||(g=Y());var n=f.length;while(n--)if(f[n]==a)return g[n];return h=k?l(h.length):{},k&&(ob.call(a,"index")&&(h.index=a.index),ob.call(a,"input")&&(h.input=a.input)),f.push(a),g.push(h),(k?Hc:cc)(a,function(a,d){h[d]=Zb(a,b,c,e,f,g)}),m&&(_(f),_(g)),h}function $b(a,b,c){return Zb(a,!0,b,c)}function ac(a,b,c){var d;return b=Ib.createCallback(b,c),cc(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function dc(a){var b=[];return bc(a,function(a,c){mc(a)&&b.push(c)}),b.sort()}function ec(a,b){return a?ob.call(a,b):!1}function fc(a){var b=-1,c=Vb(a),d=c.length,e={};while(++b<d){var f=c[b];e[a[f]]=f}return e}function gc(a){return a===!0||a===!1||tb.call(a)==D}function hc(a){return a?typeof a=="object"&&tb.call(a)==E:!1}function ic(a){return a?a.nodeType===1:!1}function jc(a){var b=!0;if(!a)return b;var c=tb.call(a),d=a.length;return c==C||c==K||c==B||c==I&&typeof d=="number"&&mc(a.splice)?!d:(cc(a,function(){return b=!1}),b)}function kc(a,b,c,d,e,f){var g=c===i;if(typeof c=="function"&&!g){c=Ib.createCallback(c,d,2);var h=c(a,b);if(typeof h!="undefined")return!!h}if(a===b)return a!==0||1/a==1/b;var j=typeof a,k=typeof b;if(a===a&&(!a||j!="function"&&j!="object")&&(!b||k!="function"&&k!="object"))return!1;if(a==null||b==null)return a===b;var l=tb.call(a),m=tb.call(b);l==B&&(l=I),m==B&&(m=I);if(l!=m)return!1;switch(l){case D:case E:return+a==+b;case H:return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case J:case K:return a==Q(b)}var n=l==C;if(!n){if(ob.call(a,"__wrapped__ ")||ob.call(b,"__wrapped__"))return kc(a.__wrapped__||a,b.__wrapped__||b,c,d,e,f);if(l!=I)return!1;var o=a.constructor,p=b.constructor;if(o!=p&&!(mc(o)&&o instanceof o&&mc(p)&&p instanceof p))return!1}var q=!e;e||(e=Y()),f||(f=Y());var r=e.length;while(r--)if(e[r]==a)return f[r]==b;var s=0;h=!0,e.push(a),f.push(b);if(n){r=a.length,s=b.length,h=s==a.length;if(!h&&!g)return h;while(s--){var t=r,u=b[s];if(g){while(t--)if(h=kc(a[t],u,c,d,e,f))break}else if(!(h=kc(a[s],u,c,d,e,f)))break}return h}return bc(b,function(b,g,i){if(ob.call(i,g))return s++,h=ob.call(a,g)&&kc(a[g],b,c,d,e,f)}),h&&!g&&bc(a,function(a,b,c){if(ob.call(c,b))return h=--s>-1}),q&&(_(e),_(f)),h}function lc(a){return xb(a)&&!yb(parseFloat(a))}function mc(a){return typeof a=="function"}function nc(a){return!!a&&!!M[typeof a]}function oc(a){return qc(a)&&a!=+a}function pc(a){return a===null}function qc(a){return typeof a=="number"||tb.call(a)==H}function sc(a){return a?typeof a=="object"&&tb.call(a)==J:!1}function tc(a){return typeof a=="string"||tb.call(a)==K}function uc(a){return typeof a=="undefined"}function vc(a,b,c){var d=arguments,e=0,f=2;if(!nc(a))return a;if(c===i)var g=d[3],h=d[4],j=d[5];else{var k=!0;h=Y(),j=Y(),typeof c!="number"&&(f=d.length),f>3&&typeof d[f-2]=="function"?g=Ib.createCallback(d[--f-1],d[f--],2):f>2&&typeof d[f-1]=="function"&&(g=d[--f])}while(++e<f)(Tb(d[e])?Hc:cc)(d[e],function(b,c){var d,e,f=b,k=a[c];if(b&&((e=Tb(b))||rc(b))){var l=h.length;while(l--)if(d=h[l]==b){k=j[l];break}if(!d){var m;if(g){f=g(k,b);if(m=typeof f!="undefined")k=f}m||(k=e?Tb(k)?k:[]:rc(k)?k:{}),h.push(b),j.push(k),m||(k=vc(k,b,i,g,h,j))}}else g&&(f=g(k,b),typeof f=="undefined"&&(f=b)),typeof f!="undefined"&&(k=f);a[c]=k});return k&&(_(h),_(j)),a}function wc(a,b,c){var d=Ob(),e=typeof b=="function",f={};if(e)b=Ib.createCallback(b,c);else var g=kb.apply($,Eb.call(arguments,1));return bc(a,function(a,c,h){if(e?!b(a,c,h):d(g,c)<0)f[c]=a}),f}function xc(a){var b=-1,d=Vb(a),e=d.length,f=c(e);while(++b<e){var g=d[b];f[b]=[g,a[g]]}return f}function yc(a,b,c){var d={};if(typeof b!="function"){var e=-1,f=kb.apply($,Eb.call(arguments,1)),g=nc(a)?f.length:0;while(++e<g){var h=f[e];h in a&&(d[h]=a[h])}}else b=Ib.createCallback(b,c),bc(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function zc(a,b,c,d){var e=Tb(a);b=Ib.createCallback(b,d,4);if(c==null)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=Mb(g)}return(e?Hc:cc)(a,function(a,d,e){return b(c,a,d,e)}),c}function Ac(a){var b=-1,d=Vb(a),e=d.length,f=c(e);while(++b<e)f[b]=a[d[b]];return f}function Bc(a){var b=-1,d=kb.apply($,Eb.call(arguments,1)),e=d.length,f=c(e);while(++b<e)f[b]=a[d[b]];return f}function Cc(a,b,c){var d=-1,e=Ob(),f=a?a.length:0,g=!1;return c=(c<0?Ab(0,f+c):c)||0,f&&typeof f=="number"?g=(tc(a)?a.indexOf(b,c):e(a,b,c))>-1:cc(a,function(a){if(++d>=c)return!(g=a===b)}),g}function Dc(a,b,c){var d={};return b=Ib.createCallback(b,c),Hc(a,function(a,c,e){c=Q(b(a,c,e)),ob.call(d,c)?d[c]++:d[c]=1}),d}function Ec(a,b,c){var d=!0;b=Ib.createCallback(b,c);var e=-1,f=a?a.length:0;if(typeof f=="number"){while(++e<f)if(!(d=!!b(a[e],e,a)))break}else cc(a,function(a,c,e){return d=!!b(a,c,e)});return d}function Fc(a,b,c){var d=[];b=Ib.createCallback(b,c);var e=-1,f=a?a.length:0;if(typeof f=="number")while(++e<f){var g=a[e];b(g,e,a)&&d.push(g)}else cc(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Gc(a,b,c){b=Ib.createCallback(b,c);var d=-1,e=a?a.length:0;if(typeof e!="number"){var g;return cc(a,function(a,c,d){if(b(a,c,d))return g=a,!1}),g}while(++d<e){var f=a[d];if(b(f,d,a))return f}}function Hc(a,b,c){var d=-1,e=a?a.length:0;b=b&&typeof c=="undefined"?b:Ib.createCallback(b,c);if(typeof e=="number"){while(++d<e)if(b(a[d],d,a)===!1)break}else cc(a,b);return a}function Ic(a,b,c){var d={};return b=Ib.createCallback(b,c),Hc(a,function(a,c,e){c=Q(b(a,c,e)),(ob.call(d,c)?d[c]:d[c]=[]).push(a)}),d}function Jc(a,b){var d=Eb.call(arguments,2),e=-1,f=typeof b=="function",g=a?a.length:0,h=c(typeof g=="number"?g:0);return Hc(a,function(a){h[++e]=(f?b:a[b]).apply(a,d)}),h}function Kc(a,b,d){var e=-1,f=a?a.length:0;b=Ib.createCallback(b,d);if(typeof f=="number"){var g=c(f);while(++e<f)g[e]=b(a[e],e,a)}else g=[],cc(a,function(a,c,d){g[++e]=b(a,c,d)});return g}function Lc(a,b,c){var d=-Infinity,e=d;if(!b&&Tb(a)){var f=-1,g=a.length;while(++f<g){var h=a[f];h>e&&(e=h)}}else b=!b&&tc(a)?U:Ib.createCallback(b,c),Hc(a,function(a,c,f){var g=b(a,c,f);g>d&&(d=g,e=a)});return e}function Mc(a,b,c){var d=Infinity,e=d;if(!b&&Tb(a)){var f=-1,g=a.length;while(++f<g){var h=a[f];h<e&&(e=h)}}else b=!b&&tc(a)?U:Ib.createCallback(b,c),Hc(a,function(a,c,f){var g=b(a,c,f);g<d&&(d=g,e=a)});return e}function Nc(a,b){var d=-1,e=a?a.length:0;if(typeof e=="number"){var f=c(e);while(++d<e)f[d]=a[d][b]}return f||Kc(a,b)}function Oc(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=Ib.createCallback(b,d,4);var f=-1,g=a.length;if(typeof g=="number"){e&&(c=a[++f]);while(++f<g)c=b(c,a[f],f,a)}else cc(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function Pc(a,b,c,d){var e=a,f=a?a.length:0,g=arguments.length<3;if(typeof f!="number"){var h=Vb(a);f=h.length}return b=Ib.createCallback(b,d,4),Hc(a,function(a,d,i){d=h?h[--f]:--f,c=g?(g=!1,e[d]):b(c,e[d],d,i)}),c}function Qc(a,b,c){return b=Ib.createCallback(b,c),Fc(a,function(a,c,d){return!b(a,c,d)})}function Rc(a){var b=-1,d=a?a.length:0,e=c(typeof d=="number"?d:0);return Hc(a,function(a){var c=lb(Db()*(++b+1));e[b]=e[c],e[c]=a}),e}function Sc(a){var b=a?a.length:0;return typeof b=="number"?b:Vb(a).length}function Tc(a,b,c){var d;b=Ib.createCallback(b,c);var e=-1,f=a?a.length:0;if(typeof f=="number"){while(++e<f)if(d=b(a[e],e,a))break}else cc(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function Uc(a,b,d){var e=-1,f=a?a.length:0,g=c(typeof f=="number"?f:0);b=Ib.createCallback(b,d),Hc(a,function(a,c,d){var f=g[++e]=Z();f.criteria=b(a,c,d),f.index=e,f.value=a}),f=g.length,g.sort(V);while(f--){var h=g[f];g[f]=h.value,ab(h)}return g}function Vc(a){return a&&typeof a.length=="number"?bb(a):Ac(a)}function Xc(a){var b=-1,c=a?a.length:0,d=[];while(++b<c){var e=a[b];e&&d.push(e)}return d}function Yc(a){var b=-1,c=Ob(),d=a?a.length:0,e=kb.apply($,Eb.call(arguments,1)),f=[],g=d>=k&&c===R;if(g){var h=W(e);h?(c=S,e=h):g=!1}while(++b<d){var i=a[b];c(e,i)<0&&f.push(i)}return g&&ab(e),f}function Zc(a,b,c){var d=-1,e=a?a.length:0;b=Ib.createCallback(b,c);while(++d<e)if(b(a[d],d,a))return d;return-1}function $c(a,b,c){if(a){var d=0,e=a.length;if(typeof b!="number"&&b!=null){var f=-1;b=Ib.createCallback(b,c);while(++f<e&&b(a[f],f,a))d++}else{d=b;if(d==null||c)return a[0]}return bb(a,0,Bb(Ab(0,d),e))}}function ad(a,b,c){if(typeof c=="number"){var d=a?a.length:0;c=c<0?Ab(0,d+c):c||0}else if(c){var e=hd(a,b);return a[e]===b?e:-1}return a?R(a,b,c):-1}function bd(a,b,c){if(!a)return[];var d=0,e=a.length;if(typeof b!="number"&&b!=null){var f=e;b=Ib.createCallback(b,c);while(f--&&b(a[f],f,a))d++}else d=b==null||c?1:b||d;return bb(a,0,Bb(Ab(0,e-d),e))}function cd(a){var b=arguments,c=b.length,d=-1,e=Y(),f=-1,g=Ob(),h=a?a.length:0,i=[],j=Y();while(++d<c){var l=b[d];e[d]=g===R&&(l?l.length:0)>=k&&W(d?b[d]:j)}a:while(++f<h){var m=e[0];l=a[f];if((m?S(m,l):g(j,l))<0){d=c,(m||j).push(l);while(--d){m=e[d];if((m?S(m,l):g(b[d],l))<0)continue a}i.push(l)}}while(c--)m=e[c],m&&ab(m);return _(e),_(j),i}function dd(a,b,c){if(a){var d=0,e=a.length;if(typeof b!="number"&&b!=null){var f=e;b=Ib.createCallback(b,c);while(f--&&b(a[f],f,a))d++}else{d=b;if(d==null||c)return a[e-1]}return bb(a,Ab(0,e-d))}}function ed(a,b,c){var d=a?a.length:0;typeof c=="number"&&(d=(c<0?Ab(0,d+c):Bb(c,d-1))+1);while(d--)if(a[d]===b)return d;return-1}function fd(a,b,d){a=+a||0,d=+d||1,b==null&&(b=a,a=0);var e=-1,f=Ab(0,ib((b-a)/d)),g=c(f);while(++e<f)g[e]=a,a+=d;return g}function gd(a,b,c){if(typeof b!="number"&&b!=null){var d=0,e=-1,f=a?a.length:0;b=Ib.createCallback(b,c);while(++e<f&&b(a[e],e,a))d++}else d=b==null||c?1:Ab(0,b);return bb(a,d)}function hd(a,b,c,d){var e=0,f=a?a.length:e;c=c?Ib.createCallback(c,d,1):Ed,b=c(b);while(e<f){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function id(a){return Tb(a)||(arguments[0]=a?Eb.call(a):$),jd(kb.apply($,arguments))}function kd(a){var b=-1,d=a?Lc(Nc(a,"length")):0,e=c(d<0?0:d);while(++b<d)e[b]=Nc(a,b);return e}function ld(a){return Yc(a,Eb.call(arguments,1))}function md(a){return a?kd(arguments):[]}function nd(a,b){var c=-1,d=a?a.length:0,e={};while(++c<d){var f=a[c];b?e[f]=b[c]:e[f[0]]=f[1]}return e}function od(a,b){return a<1?b():function(){if(--a<1)return b.apply(this,arguments)}}function pd(a,b){return Kb.fastBind||ub&&arguments.length>2?ub.call.apply(ub,arguments):Lb(a,b,Eb.call(arguments,2))}function qd(a){var b=arguments.length>1?kb.apply($,Eb.call(arguments,1)):dc(a),c=-1,d=b.length;while(++c<d){var e=b[c];a[e]=pd(a[e],a)}return a}function rd(a,b){return Lb(a,b,Eb.call(arguments,2),i)}function sd(){var a=arguments;return function(){var b=arguments,c=a.length;while(c--)b=[a[c].apply(this,b)];return b[0]}}function td(a,b,c){if(a==null)return Ed;var d=typeof a;if(d!="function"){if(d!="object")return function(b){return b[a]};var e=Vb(a);return function(b){var c=e.length,d=!1;while(c--)if(!(d=kc(b[e[c]],a[e[c]],i)))break;return d}}return typeof b=="undefined"||t&&!t.test(mb.call(a))?a:c===1?function(c){return a.call(b,c)}:c===2?function(c,d){return a.call(b,c,d)}:c===4?function(c,d,e,f){return a.call(b,c,d,e,f)}:function(c,d,e){return a.call(b,c,d,e)}}function ud(a,b,c){function n(){jb(k),jb(l),h=0,k=l=null}function o(){var b=m&&(!q||h>1);n(),b&&(j!==!1&&(i=new f),e=a.apply(g,d))}function p(){n();if(m||j!==b)i=new f,e=a.apply(g,d)}var d,e,g,h=0,i=0,j=!1,k=null,l=null,m=!0;b=Ab(0,b||0);if(c===!0){var q=!0;m=!1}else nc(c)&&(q=c.leading,j="maxWait"in c&&Ab(b,c.maxWait||0),m="trailing"in c?c.trailing:m);return function(){d=arguments,g=this,h++,jb(l);if(j===!1)q&&h<2&&(e=a.apply(g,d));else{var c=new f;!k&&!q&&(i=c);var m=j-(c-i);m<=0?(jb(k),k=null,i=c,e=a.apply(g,d)):k||(k=sb(p,m))}return b!==j&&(l=sb(o,b)),e}}function vd(a){var b=Eb.call(arguments,1);return sb(function(){a.apply(e,b)},1)}function wd(a,b){var c=Eb.call(arguments,2);return sb(function(){a.apply(e,c)},b)}function xd(a,b){function c(){var d=c.cache,e=j+(b?b.apply(this,arguments):arguments[0]);return ob.call(d,e)?d[e]:d[e]=a.apply(this,arguments)}return c.cache={},c}function yd(a){var b,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function zd(a){return Lb(a,Eb.call(arguments,1))}function Ad(a){return Lb(a,Eb.call(arguments,1),null,i)}function Bd(a,b,c){var d=!0,e=!0;c===!1?d=!1:nc(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),c=Z(),c.leading=d,c.maxWait=b,c.trailing=e;var f=ud(a,b,c);return ab(c),f}function Cd(a,b){return function(){var c=[a];return pb.apply(c,arguments),b.apply(this,c)}}function Dd(a){return a==null?"":Q(a).replace(x,Nb)}function Ed(a){return a}function Fd(a){Hc(dc(a),function(b){var c=Ib[b]=a[b];Ib.prototype[b]=function(){var a=this.__wrapped__,b=[a];pb.apply(b,arguments);var d=c.apply(Ib,b);return a&&typeof a=="object"&&a===d?this:new Jb(d)}})}function Gd(){return b._=gb,this}function Id(a,b){a==null&&b==null&&(b=1),a=+a||0,b==null?(b=a,a=0):b=+b||0;var c=Db();return a%1||b%1?a+Bb(c*(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+lb(c*(b-a+1))}function Jd(a,b){var c=a?a[b]:e;return mc(c)?a[b]():c}function Kd(a,b,c){var d=Ib.templateSettings;a||(a=""),c=_b({},c,d);var f=_b({},c.imports,d.imports),h=Vb(f),i=Ac(f),j,k=0,l=c.interpolate||w,p="__p += '",r=O((c.escape||w).source+"|"+l.source+"|"+(l===s?q:w).source+"|"+(c.evaluate||w).source+"|$","g");a.replace(r,function(b,c,d,e,f,g){return d||(d=e),p+=a.slice(k,g).replace(y,X),c&&(p+="' +\n__e("+c+") +\n'"),f&&(j=!0,p+="';\n"+f+";\n__p += '"),d&&(p+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=g+b.length,b}),p+="';\n";var t=c.variable,u=t;u||(t="obj",p="with ("+t+") {\n"+p+"\n}\n"),p=(j?p.replace(m,""):p).replace(n,"$1").replace(o,"$1;"),p="function("+t+") {\n"+(u?"":t+" || ("+t+" = {});\n")+"var __t, __p = '', __e = _.escape"+(j?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v="\n/*\n//@ sourceURL="+(c.sourceURL||"/lodash/template/source["+A++ +"]")+"\n*/";try{var x=g(h,"return "+p+v).apply(e,i)}catch(z){throw z.source=p,z}return b?x(b):(x.source=p,x)}function Ld(a,b,d){a=(a=+a)>-1?a:0;var e=-1,f=c(a);b=Ib.createCallback(b,d,1);while(++e<a)f[e]=b(e);return f}function Md(a){return a==null?"":Q(a).replace(p,Rb)}function Nd(a){var b=++h;return Q(a==null?"":a)+b}function Od(a,b){return b(a),a}function Pd(){return Q(this.__wrapped__)}function Qd(){return this.__wrapped__}b=b?db.defaults(a.Object(),b,db.pick(a,z)):a;var c=b.Array,d=b.Boolean,f=b.Date,g=b.Function,l=b.Math,F=b.Number,N=b.Object,O=b.RegExp,Q=b.String,T=b.TypeError,$=[],eb=N.prototype,fb=Q.prototype,gb=b._,hb=O("^"+Q(eb.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),ib=l.ceil,jb=b.clearTimeout,kb=$.concat,lb=l.floor,mb=g.prototype.toString,nb=hb.test(nb=N.getPrototypeOf)&&nb,ob=eb.hasOwnProperty,pb=$.push,qb=eb.propertyIsEnumerable,rb=b.setImmediate,sb=b.setTimeout,tb=eb.toString,ub=hb.test(ub=tb.bind)&&ub,vb=hb.test(vb=N.create)&&vb,wb=hb.test(wb=c.isArray)&&wb,xb=b.isFinite,yb=b.isNaN,zb=hb.test(zb=N.keys)&&zb,Ab=l.max,Bb=l.min,Cb=b.parseInt,Db=l.random,Eb=$.slice,Fb=hb.test(b.attachEvent),Gb=ub&&!/\n|true/.test(ub+Fb),Hb={};Hb[C]=c,Hb[D]=d,Hb[E]=f,Hb[G]=g,Hb[I]=N,Hb[H]=F,Hb[J]=O,Hb[K]=Q,Jb.prototype=Ib.prototype;var Kb=Ib.support={};Kb.fastBind=ub&&!Gb,Ib.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:s,variable:"",imports:{_:Ib}};var Tb=wb,Ub=function(a){var b,c=a,d=[];if(!c)return d;if(!M[typeof a])return d;for(b in c)ob.call(c,b)&&d.push(b);return d},Vb=zb?function(a){return nc(a)?zb(a):[]}:Ub,Wb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xb=fc(Wb),Yb=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i=typeof c=="number"?2:g.length;if(i>3&&typeof g[i-2]=="function")var j=Ib.createCallback(g[--i-1],g[i--],2);else i>2&&typeof g[i-1]=="function"&&(j=g[--i]);while(++h<i){e=g[h];if(e&&M[typeof e]){var k=-1,l=M[typeof e]&&Vb(e),m=l?l.length:0;while(++k<m)d=l[k],f[d]=j?j(f[d],e[d]):e[d]}}return f},_b=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i=typeof c=="number"?2:g.length;while(++h<i){e=g[h];if(e&&M[typeof e]){var j=-1,k=M[typeof e]&&Vb(e),l=k?k.length:0;while(++j<l)d=k[j],typeof f[d]=="undefined"&&(f[d]=e[d])}}return f},bc=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!M[typeof e])return f;b=b&&typeof c=="undefined"?b:Ib.createCallback(b,c);for(d in e)if(b(e[d],d,a)===!1)return f;return f},cc=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!M[typeof e])return f;b=b&&typeof c=="undefined"?b:Ib.createCallback(b,c);var g=-1,h=M[typeof e]&&Vb(e),i=h?h.length:0;while(++g<i){d=h[g];if(b(e[d],d,a)===!1)return f}return f},rc=function(a){if(!a||tb.call(a)!=I)return!1;var b=a.valueOf,c=typeof b=="function"&&(c=nb(b))&&nb(c);return c?a==c||nb(a)==c:Qb(a)},Wc=Fc,_c=Pb(function Rd(a,b,c){var d=-1,e=a?a.length:0,f=[];while(++d<e){var g=a[d];c&&(g=c(g,d,a)),Tb(g)?pb.apply(f,b?g:Rd(g)):f.push(g)}return f}),jd=Pb(function(a,b,c){var d=-1,e=Ob(),f=a?a.length:0,g=[],h=!b&&f>=k&&e===R,i=c||h?Y():g;if(h){var j=W(i);j?(e=S,i=j):(h=!1,i=c?i:(_(i),g))}while(++d<f){var l=a[d],m=c?c(l,d,a):l;if(b?!d||i[i.length-1]!==m:e(i,m)<0)(c||h)&&i.push(m),g.push(l)}return h?(_(i.array),ab(i)):c&&_(i),g});Gb&&P&&typeof rb=="function"&&(vd=pd(rb,b));var Hd=Cb(u+"08")==8?Cb:function(a,b){return Cb(tc(a)?a.replace(v,""):a,b||0)};return Ib.after=od,Ib.assign=Yb,Ib.at=Bc,Ib.bind=pd,Ib.bindAll=qd,Ib.bindKey=rd,Ib.compact=Xc,Ib.compose=sd,Ib.countBy=Dc,Ib.createCallback=td,Ib.debounce=ud,Ib.defaults=_b,Ib.defer=vd,Ib.delay=wd,Ib.difference=Yc,Ib.filter=Fc,Ib.flatten=_c,Ib.forEach=Hc,Ib.forIn=bc,Ib.forOwn=cc,Ib.functions=dc,Ib.groupBy=Ic,Ib.initial=bd,Ib.intersection=cd,Ib.invert=fc,Ib.invoke=Jc,Ib.keys=Vb,Ib.map=Kc,Ib.max=Lc,Ib.memoize=xd,Ib.merge=vc,Ib.min=Mc,Ib.omit=wc,Ib.once=yd,Ib.pairs=xc,Ib.partial=zd,Ib.partialRight=Ad,Ib.pick=yc,Ib.pluck=Nc,Ib.range=fd,Ib.reject=Qc,Ib.rest=gd,Ib.shuffle=Rc,Ib.sortBy=Uc,Ib.tap=Od,Ib.throttle=Bd,Ib.times=Ld,Ib.toArray=Vc,Ib.transform=zc,Ib.union=id,Ib.uniq=jd,Ib.unzip=kd,Ib.values=Ac,Ib.where=Wc,Ib.without=ld,Ib.wrap=Cd,Ib.zip=md,Ib.zipObject=nd,Ib.collect=Kc,Ib.drop=gd,Ib.each=Hc,Ib.extend=Yb,Ib.methods=dc,Ib.object=nd,Ib.select=Fc,Ib.tail=gd,Ib.unique=jd,Fd(Ib),Ib.chain=Ib,Ib.prototype.chain=function(){return this},Ib.clone=Zb,Ib.cloneDeep=$b,Ib.contains=Cc,Ib.escape=Dd,Ib.every=Ec,Ib.find=Gc,Ib.findIndex=Zc,Ib.findKey=ac,Ib.has=ec,Ib.identity=Ed,Ib.indexOf=ad,Ib.isArguments=Sb,Ib.isArray=Tb,Ib.isBoolean=gc,Ib.isDate=hc,Ib.isElement=ic,Ib.isEmpty=jc,Ib.isEqual=kc,Ib.isFinite=lc,Ib.isFunction=mc,Ib.isNaN=oc,Ib.isNull=pc,Ib.isNumber=qc,Ib.isObject=nc,Ib.isPlainObject=rc,Ib.isRegExp=sc,Ib.isString=tc,Ib.isUndefined=uc,Ib.lastIndexOf=ed,Ib.mixin=Fd,Ib.noConflict=Gd,Ib.parseInt=Hd,Ib.random=Id,Ib.reduce=Oc,Ib.reduceRight=Pc,Ib.result=Jd,Ib.runInContext=cb,Ib.size=Sc,Ib.some=Tc,Ib.sortedIndex=hd,Ib.template=Kd,Ib.unescape=Md,Ib.uniqueId=Nd,Ib.all=Ec,Ib.any=Tc,Ib.detect=Gc,Ib.findWhere=Gc,Ib.foldl=Oc,Ib.foldr=Pc,Ib.include=Cc,Ib.inject=Oc,cc(Ib,function(a,b){Ib.prototype[b]||(Ib.prototype[b]=function(){var b=[this.__wrapped__];return pb.apply(b,arguments),a.apply(Ib,b)})}),Ib.first=$c,Ib.last=dd,Ib.take=$c,Ib.head=$c,cc(Ib,function(a,b){Ib.prototype[b]||(Ib.prototype[b]=function(b,c){var d=a(this.__wrapped__,b,c);return b==null||c&&typeof b!="function"?d:new Jb(d)})}),Ib.VERSION="1.3.1",Ib.prototype.toString=Pd,Ib.prototype.value=Qd,Ib.prototype.valueOf=Qd,Hc(["join","pop","shift"],function(a){var b=$[a];Ib.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}}),Hc(["push","reverse","sort","unshift"],function(a){var b=$[a];Ib.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Hc(["concat","slice","splice"],function(a){var b=$[a];Ib.prototype[a]=function(){return new Jb(b.apply(this.__wrapped__,arguments))}}),Ib}var e,f=[],g=[],h=0,i={},j=+(new Date)+"",k=75,l=40,m=/\b__p \+= '';/g,n=/\b(__p \+=) '' \+/g,o=/(__e\(.*?\)|\b__t\)) \+\n'';/g,p=/&(?:amp|lt|gt|quot|#39);/g,q=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,r=/\w*$/,s=/<%=([\s\S]+?)%>/g,t=(t=/\bthis\b/)&&t.test(cb)&&t,u=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",v=RegExp("^["+u+"]*0+(?=.$)"),w=/($^)/,x=/[&<>"']/g,y=/['\n\r\t\u2028\u2029\\]/g,z=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],A=0,B="[object Arguments]",C="[object Array]",D="[object Boolean]",E="[object Date]",F="[object Error]",G="[object Function]",H="[object Number]",I="[object Object]",J="[object RegExp]",K="[object String]",L={};L[G]=!1,L[B]=L[C]=L[D]=L[E]=L[H]=L[I]=L[J]=L[K]=!0;var M={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},N={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},O=M[typeof c]&&c,P=M[typeof b]&&b&&b.exports==O&&b,Q=M[typeof d]&&d;Q&&(Q.global===Q||Q.window===Q)&&(a=Q);var db=cb();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(a._=db,define(function(){return db})):O&&!O.nodeType?P?(P.exports=db)._=db:O._=db:a._=db})(this)},3:function(a,b,c,d){"use strict",boxspring.define=function(a,b){var c=null,f=b.inherits||boxspring.Object;f&&(c=f.prototype);var g=_.has(b,"constructor")?b.constructor:f?function(){return f.apply(this,arguments)}:function(){};return e[a]=g,f&&(g.prototype=Object.create(c),g.prototype.constructor=g,g.parent=c),g.prototype.$kind=a,boxspring.set(d,a,g),boxspring.implement(a,b)},boxspring.get=function(a,b){},boxspring.set=function(a,b,c){return f(b,c,a||d)};var e=boxspring.constructors={},f=function(a,b,c){c||(c=d);var e=_.isArray(a)?a:a.split(".");if(e.length===1){c[a]=b;return}var g=e.shift();f(e,b,c[g]||(c[g]={}))}},4:function(a,b,c,d){"use strict",boxspring.extend=function(a,b){var c=boxspring.constructors[a];if(c==null)throw new Error("The class "+a+" does not exists");return _.each(b,function(a,b){if(b==="constructor"||b==="prototype"||b==="parent")return this;c[b]=a}),c}},5:function(a,b,c,d){"use strict",boxspring.implement=function(a,b){var c=boxspring.constructors[a];if(c==null)throw new Error("The class "+a+" does not exists");var d=c.prototype;return _.each(b,function(b,c){if(c==="statics"){boxspring.extend(a,b);return}if(c==="properties"){boxspring.properties(a,b);return}if(c==="constructor"||c==="prototype"||c==="inherits")return this;var e=Object.getOwnPropertyDescriptor(d,c);e?Object.defineProperty(d,c,e):d[c]=b}),c}},6:function(a,b,c,d){"use strict",boxspring.override=function(a,b){var c=boxspring.constructors[a];if(c==null)throw new Error("The class "+a+" does not exists");var e=c,f=c.prototype,g=_.has(b,"constructor")?b.constructor:e?function(){return e.apply(this,arguments)}:function(){};return boxspring.constructors[a]=g,e&&(g.prototype=Object.create(f),g.prototype.constructor=g,g.parent=f),g.prototype.$kind=a,_.forOwn(e,function(a,b){b!=="prototype"&&b!=="constructor"&&b!=="parent"&&b!=="$properties"&&(g[b]=a)}),boxspring.set(d,a,g),boxspring.implement(a,b)}},7:function(a,b,c,d){"use strict",boxspring.properties=function(a,b){var c=boxspring.constructors[a];if(c==null)throw new Error("The class "+a+" does not exists");var d=c.parent,e=c.prototype,f=d?d.constructor.$properties:null;return _.each(b,function(a,b){var d="__"+b,g=_.has(a,"value")?a.value:_.has(f,d)&&_.has(f[d],"value")?f[d].value:null,h=_.has(a,"write")?a.write:_.has(f,d)&&_.has(f[d],"write")?f[d].write:!0,i=_.has(a,"clone")?a.clone:_.has(f,d)&&_.has(f[d],"clone")?f[d].clone:!1,j=_.has(a,"onSet")?a.onSet:_.has(f,d)&&_.has(f[d],"onSet")?f[d].onSet:function(a){return a},k=_.has(a,"onGet")?a.onGet:_.has(f,d)&&_.has(f[d],"onGet")?f[d].onGet:function(a){return a},l=function(){if(_.has(this,d))return;if(g)switch(!0){case _.isFunction(g):this[d]=g.call(this);return;case _.isArray(g):case _.isObject(g):this[d]=_.clone(g);return}this[d]=g};c.$properties==null&&(c.$properties={}),c.$properties[b]={setup:l,value:g,write:h,clone:i,onSet:j,onGet:k},Object.defineProperty(e,b,{get:function(){l.call(this);var a=this[d],b=k.call(this,a);return b===undefined&&(b=a),i?_.clone(b):b},set:function(a){if(h==="once"){if(this[d+"$set"]!==undefined)throw new Error("Property "+b+" can only be written once");this[d+"$set"]=!0}else if(!h)throw new Error("Property "+b+" is read only");l.call(this);var c=this[d],e=j.call(this,a,c);e===undefined&&(e=c);if(e===c)return;this[d]=e,this.notifyPropertyChangeListeners&&this.notifyPropertyChangeListeners(b,e,c)}})}),c};var e=function(a,b,c,d){return b&&a in b?b[a]:c&&a in c?c[a]:d}},8:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.Object",{inherits:null,statics:{forPath:function(a,b,c,d){var e=[],f=i(b),g=a,h=null;while(f.length){var l=f.shift();k(g,l)||j("Error parsing property path "+b+" for key "+l),h=g[l];var m=e.join("."),n=f.join(".");c.call(d,g,h,l,m,n),g=g[l],e.push(l)}return a},set:function(a,b,c){return e.forPath(a,b,function(a,b,d,e,f){f===""&&(a[d]=c)}),a},get:function(a,b){var c=null;return e.forPath(a,b,function(a,b,d,e,f){f===""&&(c=a[d])}),c}},properties:{UID:{write:!1,value:function(){return f++}},kind:{write:!1,value:function(){return this.$kind}}},constructor:function(){this.__bound={},this.__propertyListeners={},this.__propertyObservers={};var a=this.constructor;while(a){var b=a.$properties;if(b)for(var c in b)b[c].setup.call(this);var d=a.parent;if(d==null)break;a=d.constructor}return this},destroy:function(){return this.__bound=null,this.__propertyListeners=null,this.__propertyObservers=null,this},set:function(a,b){return e.set(this,a,b)},get:function(a){return e.get(this,a)},addPropertyChangeListener:function(a,b){var c=this.__propertyListeners[a];c===undefined&&(c=this.__propertyListeners[a]=[]);var d=c.indexOf(b);return d>-1?this:(c.length===0&&g(this,this,a),c.push(b),this)},hasPropertyChangeListener:function(a,b){var c=this.__propertyListeners[a];return c===undefined?!1:c.indexOf(b)>-1},removePropertyChangeListener:function(a,b){var c=this.__propertyListeners[a];if(c===undefined)return this;var d=c.indexOf(b);return d>-1&&c.splice(d,1),c.length===0&&h(this,this,a),this},removePropertyChangeListeners:function(a){var b=this.__propertyListeners[a];return b===undefined?this:(delete this.__propertyListeners[a],h(this,this,a),this)},notifyPropertyChangeListeners:function(a,b,c){var d=new boxspring.event.Event("propertychange",!1,!0);d.setTarget(this),d.setSource(this),this.onPropertyChange&&this.onPropertyChange(this,a,b,c,d);if(d.stopped||d.cancelled)return this;var e=this.__propertyObservers[a];if(e===undefined)return this;for(var f=0;f<e.length;f++){var i=e[f],j=i.observer,k=i.property,l=i.chain,m=c,n=b;l&&(n=b.get(l),m=c.get(l),h(c,j,k,l),g(b,j,k,l)),d.setParameters([k,n,m]);if(n===m)continue;var o=j.__propertyListeners[k];if(o)for(var p=0;p<o.length;p++){o[p].call(j,j,k,n,m,d);if(d.canceled||d.stoped)break}}},bind:function(a){if(a in this){var b=this.__bound[a];return b===undefined&&(b=this.__bound[a]=_.bind(this[a],this)),b}throw new Error('Method "'+a+'" does not exists within this object')},onPropertyChange:function(a,b,c,d,e){},__propertyListeners:null,__propertyObservers:null}),f=0,g=function(a,b,c,d){return e.forPath(a,d||c,function(a,d,e,f,g){var h=a.__propertyObservers[e];h===undefined&&(h=a.__propertyObservers[e]=[]),h.push({observer:b,property:c,chain:g})}),a},h=function(a,b,c,d){return e.forPath(a,d||c,function(a,d,e,f,g){var h=a.__propertyObservers[e];if(h===undefined)return!1;for(var i=h.length-1;i>=0;i--){var j=h[i];j.observer===b&&j.property===c&&h.splice(i,1)}}),a},i=function(a){return a.split(".")},j=function(a){throw new Error(a)},k=function(a,b){return b in a}},9:function(a,b,c,d){"use strict",a("a"),a("b"),a("c"),a("d"),a("e"),a("f")},a:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Matrix",{properties:{m11:{value:1},m12:{value:0},m13:{value:0},m14:{value:0},m21:{value:0},m22:{value:1},m23:{value:0},m24:{value:0},m31:{value:0},m32:{value:0},m33:{value:1},m34:{value:0},m41:{value:0},m42:{value:0},m43:{value:0},m44:{value:1}},translate:function(a,b,c){a==null&&(a=0),b==null&&(b=0),c==null&&(c=0);var d=[1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1];return this.combine(d)},scale:function(a,b,c){a==null&&(a=1),b==null&&(b=1),c==null&&(c=1);var d=[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1];return this.combine(d)},rotate:function(a,b,c){a==null&&(a=0),b==null&&(b=0),c==null&&(c=0);var d=Math.sin(a),e=Math.cos(b),f=[e,d,0,0,-d,e,0,0,0,0,1,0,0,0,0,1];return this.combine(f)},shear:function(a,b,c){a==null&&(a=0),b==null&&(b=0),c==null&&(c=0);var a=Math.tan(a),b=Math.tan(b),d=[1,a,0,0,b,1,0,0,0,0,1,0,0,0,0,1];return this.combine(d)},combine:function(a){var b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r;a instanceof e?(b=a.m11,c=a.m12,d=a.m13,f=a.m14,g=a.m21,h=a.m22,i=a.m23,j=a.m24,k=a.m31,l=a.m32,m=a.m33,n=a.m34,o=a.m41,p=a.m42,q=a.m43,r=a.m44):(b=a[0],c=a[1],d=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=a[9],m=a[10],n=a[11],o=a[12],p=a[13],q=a[14],r=a[15]);var s=b*this.m11+c*this.m21+d*this.m31+f*this.m41,t=b*this.m21+c*this.m22+d*this.m32+f*this.m42,u=b*this.m31+c*this.m23+d*this.m33+f*this.m43,v=b*this.m41+c*this.m24+d*this.m34+f*this.m44,w=g*this.m11+h*this.m21+i*this.m31+j*this.m41,x=g*this.m21+h*this.m22+i*this.m32+j*this.m42,y=g*this.m31+h*this.m23+i*this.m33+j*this.m43,z=g*this.m41+h*this.m24+i*this.m34+j*this.m44,A=k*this.m11+l*this.m21+m*this.m31+n*this.m41,B=k*this.m21+l*this.m22+m*this.m32+n*this.m42,C=k*this.m31+l*this.m23+m*this.m33+n*this.m43,D=k*this.m41+l*this.m24+m*this.m34+n*this.m44,E=o*this.m11+p*this.m21+q*this.m31+r*this.m41,F=o*this.m21+p*this.m22+q*this.m32+r*this.m42,G=o*this.m31+p*this.m23+q*this.m33+r*this.m43,H=o*this.m41+p*this.m24+q*this.m34+r*this.m44;return this.m11=s,this.m12=t,this.m13=u,this.m14=v,this.m21=w,this.m22=x,this.m23=y,this.m24=z,this.m31=A,this.m32=B,this.m33=C,this.m34=D,this.m41=E,this.m42=F,this.m43=G,this.m44=H,this},reset:function(){return this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,this}})},b:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Point",{properties:{x:{value:0,onSet:function(a){return a||0}},y:{value:0,onSet:function(a){return a||0}}},constructor:function(a,b){e.parent.constructor.call(this);var c=arguments[0];return c instanceof e&&(a=c.x,b=c.y),this.x=a,this.y=b,this}})},c:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Size",{properties:{x:{value:0,onSet:function(a){return a||0}},y:{value:0,onSet:function(a){return a||0}}},constructor:function(a,b){e.parent.constructor.call(this);var c=arguments[0];return c instanceof e&&(a=c.x,b=c.y),this.x=a,this.y=b,this}})},d:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Rectangle",{statics:{union:function(a,b){var c=Math.min(a.origin.x,b.origin.x),d=Math.min(a.origin.y,b.origin.y),e=Math.max(a.origin.x+a.size.x,b.origin.x+b.size.x),f=Math.max(a.origin.y+a.size.y,b.origin.x+b.size.y);return new boxspring.geom.Rectangle(c,d,e-c,f-d)}},properties:{origin:{value:function(){return new boxspring.geom.Point(0,0)}},size:{value:function(){return new boxspring.geom.Size(0,0)}}},constructor:function(a,b,c,d){e.parent.constructor.call(this);var f=arguments[0];return f instanceof e&&(a=f.origin.x,b=f.origin.y,c=f.size.x,d=f.size.y),this.origin.x=a,this.origin.y=b,this.size.x=c,this.size.y=d,this}})},e:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Thickness",{properties:{top:{value:0,onSet:function(a){return a||0}},bottom:{value:0,onSet:function(a){return a||0}},left:{value:0,onSet:function(a){return a||0}},right:{value:0,onSet:function(a){return a||0}}},constructor:function(){e.parent.constructor.call(this);switch(arguments.length){case 1:this.top=arguments[0],this.left=arguments[0],this.right=arguments[0],this.bottom=arguments[0];break;case 2:this.top=arguments[0],this.left=arguments[1],this.right=arguments[1],this.bottom=arguments[0];break;default:this.top=arguments[0],this.left=arguments[1],this.right=arguments[2],this.bottom=arguments[3]}return this}})},f:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Position",{properties:{x:{value:0,onSet:function(a){return a||0}},y:{value:0,onSet:function(a){return a||0}},top:{value:0,onSet:function(a){return a||0}},bottom:{value:0,onSet:function(a){return a||0}},left:{value:0,onSet:function(a){return a||0}},right:{value:0,onSet:function(a){return a||0}}},constructor:function(){e.parent.constructor.call(this);switch(arguments.length){case 1:this.top=arguments[0],this.left=arguments[0],this.right=arguments[0],this.bottom=arguments[0];break;case 2:this.top=arguments[0],this.left=arguments[1],this.right=arguments[1],this.bottom=arguments[0];break;default:this.top=arguments[0],this.left=arguments[1],this.right=arguments[2],this.bottom=arguments[3]}return this},onPropertyChange:function(a,b,c){var d=function(a,b){this[a]!==b&&(this[a]=b)};switch(b){case"x":d.call(this,"left",c);break;case"y":d.call(this,"top",c);break;case"left":d.call(this,"x",c);break;case"right":d.call(this,"y",c)}e.parent.onPropertyChange.apply(this,arguments)}})},g:function(a,b,c,d){"use strict",a("h"),a("i"),a("j"),a("k"),a("l"),a("m"),a("n"),a("y")},h:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.Event",{properties:{type:{write:!1},source:{write:!1},target:{write:!1},parameters:{write:!1,clone:!0,value:[]},bubbleable:{write:!1,value:!1},cancelable:{write:!1,value:!0},stopped:{write:!1,value:!1},canceled:{write:!1,value:!1}},stop:function(){return this.__stopped=!0,this},cancel:function(){return this.__stopped=!0,this.__canceled=!0,this},constructor:function(a,b,c){return e.parent.constructor.call(this),this.__bubbleable=b,this.__cancelable=c,this.__type=a,this},setTarget:function(a){return this.__target=a,this},setSource:function(a){return this.__source=a,this},setParameters:function(a){return this.__parameters=Array.prototype.slice.call(a),this}})},i:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.TouchEvent",{inherits:boxspring.event.Event,properties:{touches:{write:!1}},constructor:function(a,b,c){return e.parent.constructor.call(this,a,b),this.__touches=c,this}})},j:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.MouseEvent",{inherits:boxspring.event.Event})},k:function(a,b,c,d){"use strict";var f=boxspring.define("boxspring.event.Emitter",{properties:{parentReceiver:{write:!1}},addListener:function(a,b){a=a.toLowerCase();if(a==="propertychange"&&this.addPropertyChangeListener)return this.addPropertyChangeListener(arguments[1],arguments[2]),this;var c=this.__listeners||(this.__listeners={}),d=c[a];return d===undefined&&(d=c[a]=[]),d.indexOf(b)===-1&&d.push(b),this},hasListener:function(a,b){a=a.toLowerCase();if(a==="propertychange"&&this.hasPropertyListener)return this.hasPropertyListener(arguments[1],arguments[2]),this;var c=this.__listeners||(this.__listeners={}),d=c[a];return d===undefined?this:d.indexOf(b)>-1},removeListener:function(a,b){a=a.toLowerCase();if(a==="propertychange"&&this.removePropertyListener)return this.removePropertyListener(arguments[1],arguments[2]),this;var c=this.__listeners[a];if(c===undefined)return this;var d=c.indexOf(b);return d>-1&&c.splice(d,1),this},removeAllListeners:function(a){if(a)return a=a.toLowerCase(),a==="propertychange"&&this.removePropertyListeners?(this.removePropertyListeners(arguments[1]),this):(delete this.__listeners[a],this);return this.__listeners=[],this},on:function(){return this.addListener.apply(this,arguments)},off:function(){return this.removeListener.apply(this,arguments)},once:function(a,b){var c=function(d){this.removeListener(a,c),b(d)};return this.addListener(a,c)},emit:function(a){typeof a=="string"&&(a=new boxspring.event.Event(a,!1,!0));var b=g.call(arguments,1);b.length&&a.setParameters(b),a.__source===null&&a.setSource(this),a.setTarget(this);var c=this.__listeners&&this.__listeners[a.type];if(c){var d=a.parameters;d.push(a);for(var h=0,i=c.length;h<i;h++)c[h].apply(this,d)}if(!a.bubbles||a.stopped)return this;var j=this.parentReceiver;return j instanceof f&&j.emit.call(j,e),this},setParentReceiver:function(a){return this.__parentReceiver=a,this}}),g=Array.prototype.slice},l:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.Forwarder",{properties:{receiver:{}},constructor:function(a){return e.parent.constructor.call(this),this.receiver=a,this}})},m:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.MouseForwarder",{inherits:boxspring.event.Forwarder,constructor:function(a){return e.parent.constructor.call(this,a),window.addEventListener("mousedown",this.bind("onMouseDown")),window.addEventListener("mousemove",this.bind("onMouseMove")),window.addEventListener("mouseup",this.bind("onMouseUp")),window.addEventListener("click",this.bind("onClick")),this},destroy:function(){window.removeEventListener("mousedown",this.bind("onMouseDown")),window.removeEventListener("mousemove",this.bind("onMouseMove")),window.removeEventListener("mouseup",this.bind("onMouseUp")),window.removeEventListener("click",this.bind("onClick")),e.parent.destroy.call(this)},onMouseDown:function(a){},onMouseMove:function(a){},onMouseUp:function(a){},onClick:function(a){}})},n:function(a,b,c,d){"use strict";var e=a("o"),f=boxspring.define("boxspring.event.TouchForwarder",{inherits:boxspring.event.Forwarder,properties:{touches:{value:{}}},constructor:function(a){return f.parent.constructor.call(this,a),document.addEventListener("touchcancel",this.bind("onTouchCancel")),document.addEventListener("touchstart",this.bind("onTouchStart")),document.addEventListener("touchmove",this.bind("onTouchMove")),document.addEventListener("touchend",this.bind("onTouchEnd")),this},destroy:function(){this.touches=null,document.removeEventListener("touchcancel",this.bind("onTouchCancel")),document.removeEventListener("touchstart",this.bind("onTouchStart")),document.removeEventListener("touchmove",this.bind("onTouchMove")),document.removeEventListener("touchend",this.bind("onTouchEnd")),f.parent.destroy.call(this)},onTouchCancel:function(a){var b=new e;_.each(a.changedTouches,function(a){var c=this.touches[a.identifier];if(c===undefined)return;delete this.touches[a.identifier];var d=b.get(c.target);d===null&&b.set(c.target,d=[]),d.push(c)});var c=_.clone(this.touches);b.forEach(function(a,b){b.emit(new boxspring.event.TouchEvent("touchcancel",!0,c),a)},this)},onTouchStart:function(a){var b=new e;_.each(a.changedTouches,function(a){var c=a.pageX,d=a.pageY,e=this.receiver.viewAtPoint(c,d);if(e){var f=new boxspring.event.Touch;f.setLocation(c,d),f.setTarget(e),this.touches[a.identifier]=f;var g=b.get(e);g===null&&b.set(e,g=[]),g.push(f)}},this);var c=_.clone(this.touches);b.forEach(function(a,b){b.emit(new boxspring.event.TouchEvent("touchstart",!0,c),a)})},onTouchMove:function(a){var b=new e;_.each(a.changedTouches,function(a){var c=this.touches[a.identifier];if(c===undefined)return;c.setLocation(a.pageX,a.pageY);var d=b.get(c.target);d===null&&b.set(c.target,d=[]),d.push(c)},this);var c=_.clone(this.touches);b.forEach(function(a,b){b.emit(new boxspring.event.TouchEvent("touchmove",!0,c),a)})},onTouchEnd:function(a){var b=new e;_.each(a.changedTouches,function(a){var c=this.touches[a.identifier];if(c===undefined)return;delete this.touches[a.identifier];var d=b.get(c.target);d===null&&b.set(c.target,d=[]),d.push(c)},this);var c=_.clone(this.touches);b.forEach(function(a,b){b.emit(new boxspring.event.TouchEvent("touchend",!0,c),a)})}})},o:function(a,b,c,d){"use strict";var e=a("p"),f=a("x"),g=e({constructor:function h(){if(!this instanceof h)return new h;this.length=0,this._values=[],this._keys=[]},set:function(a,b){var c=f(this._keys,a);return c===-1?(this._keys.push(a),this._values.push(b),this.length++):this._values[c]=b,this},get:function(a){var b=f(this._keys,a);return b===-1?null:this._values[b]},count:function(){return this.length},forEach:function(a,b){for(var c=0,d=this.length;c<d;c++)if(a.call(b,this._values[c],this._keys[c],this)===!1)break;return this},map:function(a,b){var c=new g;return this.forEach(function(d,e){c.set(e,a.call(b,d,e,this))},this),c},filter:function(a,b){var c=new g;return this.forEach(function(d,e){a.call(b,d,e,this)&&c.set(e,d)},this),c},every:function(a,b){var c=!0;return this.forEach(function(d,e){if(!a.call(b,d,e,this))return c=!1},this),c},some:function(a,b){var c=!1;return this.forEach(function(d,e){if(a.call(b,d,e,this))return!(c=!0)},this),c},indexOf:function(a){var b=f(this._values,a);return b>-1?this._keys[b]:null},remove:function(a){var b=f(this._values,a);return b!==-1?(this._values.splice(b,1),this.length--,this._keys.splice(b,1)[0]):null},unset:function(a){var b=f(this._keys,a);return b!==-1?(this._keys.splice(b,1),this.length--,this._values.splice(b,1)[0]):null},keys:function(){return this._keys.slice()},values:function(){return this._values.slice()}});b.exports=g},p:function(a,b,c,d){"use strict";var e=a("q"),f=a("r"),g=a("s"),h=a("u"),i=a("v"),j=a("w"),k=Object.defineProperty,l=Object.getOwnPropertyDescriptor;try{k({},"~",{}),l({},"~")}catch(m){k=null,l=null}var n=function(a,b,c){k(this,b,l(c,b)||{writable:!0,enumerable:!0,configurable:!0,value:a})},o=function(a,b){this[b]=a},p=function(a){return f(a,k?n:o,this.prototype),this},q=/^constructor|inherits|mixin$/,r=function(a){j(a)==="function"&&(a={constructor:a});var b=a.inherits,c=e(a,"constructor")?a.constructor:b?function(){return b.apply(this,arguments)}:function(){};if(b){g(c,b);var d=b.prototype,f=c.prototype=i(d);c.parent=d,f.constructor=c}c.implement||(c.implement=p);var k=a.mixin;if(k){j(k)!=="array"&&(k=[k]);for(var l=0;l<k.length;l++)c.implement(i(k[l].prototype))}return c.implement(h(a,function(a,b){return!b.match(q)}))};b.exports=r},q:function(a,b,c,d){"use strict";var e=Object.hasOwnProperty,f=function(a,b){return e.call(a,b)};b.exports=f},r:function(a,b,c,d){"use strict";var e=a("q"),f=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a)===!1)break;return a};if(!{valueOf:0}.propertyIsEnumerable("valueOf")){var g="constructor,toString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString".split(","),h=Object.prototype;f=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a)===!1)return a;for(var f=0;d=g[f];f++){var i=a[d];if((i!==h[d]||e(a,d))&&b.call(c,i,d,a)===!1)break}return a}}b.exports=f},s:function(a,b,c,d){"use strict";var e=a("t"),f=function(a,b){this[b]=a},g=function(a){for(var b=1,c=arguments.length;b<c;b++)e(arguments[b],f,a);return a};b.exports=g},t:function(a,b,c,d){"use strict";var e=a("r"),f=a("q"),g=function(a,b,c){return e(a,function(d,e){if(f(a,e))return b.call(c,d,e,a)}),a};b.exports=g},u:function(a,b,c,d){"use strict";var e=a("r"),f=function(a,b,c){var d={};return e(a,function(e,f){b.call(c,e,f,a)&&(d[f]=e)}),d};b.exports=f},v:function(a,b,c,d){"use strict";var e=function(a){var b=function(){};return b.prototype=a,new b};b.exports=e},w:function(a,b,c,d){"use strict";var e=Object.prototype.toString,f=/number|object|array|string|function|date|regexp|boolean/,g=function(a){if(a==null)return"null";var b=e.call(a).slice(8,-1).toLowerCase();return b==="number"&&isNaN(a)?"null":f.test(b)?b:"object"};b.exports=g},x:function(a,b,c,d){"use strict";var e=function(a,b,c){for(var d=a.length>>>0,e=c<0?Math.max(0,d+c):c||0;e<d;e++)if(a[e]===b)return e;return-1};b.exports=e},y:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.Touch",{properties:{identifier:{write:!1},target:{write:!1},location:{write:!1,value:function(){return new boxspring.geom.Point(0,0)}}},constructor:function(){return e.parent.constructor.call(this),this.__identifier=(f++).toString(36),this},setTarget:function(a){return this.__target=a,this},setLocation:function(a,b){return this.__location.x=a,this.__location.y=b,this}}),f=Date.now()},z:function(a,b,c,d){"use strict",a("10")},10:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.render.RenderLoop",{statics:{run:function(a,b){f.run(a,b)},cancel:function(a){f.cancel(a)}},constructor:function(){return e.parent.constructor.apply(this,arguments),this.__levels=[],this.__queues={},this},destroy:function(){this.__levels=null,this.__queues=null,e.parent.destroy.call(this)},run:function(a,b){b==null&&(b=e.DEFAULT_PRIORITY),_.include(this.__levels,b);var c=this.__queues[b];c==null&&(c=this.__queues[b]=[]);var d=c.indexOf(a);return d>-1?this:(c.push(a),this.__request==null&&(this.__request=h(this.bind("loop"))),this.__processing&&this.__processingLevel>=b&&(this.__reschedule=!0),this.__actions++,this)},cancel:function(a){for(var b in this.__queues){var c=this.__queues[b],d=c.indexOf(a);if(d>-1){c.splice(d,1),this.__actions--;break}}return this.__actions===0&&(this.__request=g(this.bind("loop"))),this},loop:function(){var a=Date.now();this.__processing=!0,this.__levels.sort();for(var b=0;b<this.__levels.length;b++){var c=this.__levels[b],d=this.__queues[c];if(d.length===0)continue;this.__queues[c]=[],this.__processingLevel=c,this.__processingQueue=d;for(var e=0;e<d.length;e++)this.__processingAction=d[e],this.__processingAction.call(null,a),this.__processingAction=null,this.__actions--}return this.__processing=!1,this.__processingQueue=null,this.__processingLevel=null,this.__reschedule?(this.__reschedule=!1,this.__request=h(this.bind("loop"))):this.__request=null,this},__levels:null,__queues:null,__request:null,__actions:0,__processing:!1,__processingLevel:null,__processingQueue:null,__processingAction:null,__reschedule:!1}),f=new e;e.DEFAULT_PRIORITY=50,e.ANIMATION_PRIORITY=250,e.RENDER_PRIORITY=500;var g=webkitCancelAnimationFrame,h=webkitRequestAnimationFrame},11:function(a,b,c,d){"use strict",a("12"),a("13"),a("14"),a("15"),a("16"),a("17"),a("19"),a("1a"),a("1b"),a("1c"),a("1d")},12:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.TypeEvaluator",{evaluate:function(a,b,c){}})},13:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.ColorEvaluator",{inherit:boxspring.animation.TypeEvaluator,evaluate:function(a,b,c){return c}})},14:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.ImageEvaluator",{inherit:boxspring.animation.TypeEvaluator,evaluate:function(a,b,c){return c}})},15:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.NumberEvaluator",{inherit:boxspring.animation.TypeEvaluator,evaluate:function(a,b,c){return a*(c-b)+b}})},16:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.AnimationRunner",{statics:{add:function(a){a.on("start",j),a.on("pause",k),a.on("end",l)},remove:function(a){a.off("start",j),a.off("pause",k),a.off("end",l)}}}),f=[],g=function(){boxspring.render.RenderLoop.run(i,boxspring.render.RenderLoop.ANIMATION_PRIORITY)},h=function(){boxspring.render.RenderLoop.cancel(i)},i=function(a){for(var b=f.length-1;b>=0;b--){var c=f[b];c&&c.tick(a)}f.length&&g()},j=function(a){_.include(f,a.source),f.length===1&&g()},k=function(a){_.remove(f,a.source),f.length===0&&h()},l=function(a){_.remove(f,a.source),f.length===0&&h()}},17:function(a,b,c,d){"use strict";var e=a("18"),f=boxspring.define("boxspring.animation.Animation",{inherits:boxspring.event.Emitter,properties:{duration:{value:250},equation:{value:"default"},reverse:{value:!1},repeat:{value:0,onSet:function(a){if(a===!0)return Infinity}},running:{value:!1,write:!1}},constructor:function(){return f.parent.constructor.call(this),this.on("start",this.bind("onStart")),this.on("pause",this.bind("onPause")),this.on("end",this.bind("onEnd")),this},destroy:function(){this.off("start",this.bind("onStart")),this.off("pause",this.bind("onPause")),this.off("end",this.bind("onEnd")),f.parent.destroy.call(this)},start:function(){if(this.__running)return this;var a=Date.now();return this.__pauseTime?(this.__pauseTime=0,a-=this.__progress*this.duration):(this.__progressTo=0,this.__progressFrom=0),this.__running=!0,this.__startTime=a,this.__tweenTime=a,this.__pauseTime=0,this.__progress=0,this.__curve=i(this.equation,this.duration),this.emit("start"),this},pause:function(){return this.__running===!1?this:(this.__running=!1,this.__startTime=0,this.__tweenTime=0,this.__pauseTime=Date.now(),this.emit("pause"),this)},end:function(){if(this.running===!1)return this;var a=this.__progress,b=this.__progressTo;return a!==b&&this.progress(b),this.__running=!1,this.__startTime=0,this.__pauseTime=0,this.__tweenTime=0,this.__progress=0,this.__progressTo=0,this.__progressFrom=0,this.emit("end"),this},tick:function(a){var b=this.__tweenTime;if(b){var c=(a-b)/this.duration;c>1&&(c=1);var d=null,e=null,f=null;this.__reversed?(e=this.__progressTo=0,d=this.__progressFrom=1):(e=this.__progressTo=1,d=this.__progressFrom=0),f=this.__progress=h(d,e,this.__curve(c)),this.progress(f);if(c===1){var g=this.reverse?this.repeat*2-1:this.repeat,i=++this.__repeated;if(i>=g){this.end();return}this.reverse&&(this.__reversed=!this.__reversed),this.__tweenTime=a}}},progress:function(a){},onStart:function(a){},onPause:function(a){},onEnd:function(a){},__curve:null,__startTime:0,__pauseTime:0,__tweenTime:0,__progress:0,__progressTo:0,__progressFrom:0,__repeated:0,__reversed:!1}),g={"default":"cubic-bezier(0.25, 0.1, 0.25, 1.0)",linear:"cubic-bezier(0, 0, 1, 1)","ease-in":"cubic-bezier(0.42, 0, 1.0, 1.0)","ease-out":"cubic-bezier(0, 0, 0.58, 1.0)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1.0)"},h=function(a,b,c){return(b-a)*c+a},i=function(a,b){return typeof a=="function"?a:(a=g[a]||a,a=a.replace(/\s+/g,""),a=a.match(/cubic-bezier\(([-.\d]+),([-.\d]+),([-.\d]+),([-.\d]+)\)/),e(+a[1],+a[2],+a[3],+a[4],1e3/60/b/4))}},18:function(a,b,c,d){b.exports=function(a,b,c,d,e){var f=function(b){var d=1-b;return 3*d*d*b*a+3*d*b*b*c+b*b*b},g=function(a){var c=1-a;return 3*c*c*a*b+3*c*a*a*d+a*a*a},h=function(b){var d=1-b;return 3*(2*(b-1)*b+d*d)*a+3*(-b*b*b+2*d*b)*c};return function(a){var b=a,c,d,i,j,k,l;for(i=b,l=0;l<8;l++){j=f(i)-b;if(Math.abs(j)<e)return g(i);k=h(i);if(Math.abs(k)<1e-6)break;i-=j/k}c=0,d=1,i=b;if(i<c)return g(c);if(i>d)return g(d);while(c<d){j=f(i);if(Math.abs(j-b)<e)return g(i);b>j?c=i:d=i,i=(d-c)*.5+c}return g(i)}}},19:function(a,b,c,d){"use strict";var e=boxspring.animation.AnimationRunner,f=boxspring.define("boxspring.animation.AnimationGroup",{inherits:boxspring.animation.Animation,properties:{animations:{write:!1,clone:!0,value:[]}},constructor:function(){return f.parent.constructor.call(this),e.add(this),this},destroy:function(){_.invoke(this.__animations,"destroy"),e.remove(this),f.parent.destroy.call(this)},progress:function(a){_.invoke(this.__animations,"progress",a)},addAnimation:function(a){return _.include(this.__animations,a),this},removeAnimation:function(a){return _.remove(this.__animations,a),this},removeAllAnimations:function(a){return this.__animations=[],this},animationAt:function(a){return this.__animations[a]||null}})},"1a":function(a,b,c,d){"use strict";var e=boxspring.animation.AnimationRunner,f=boxspring.define("boxspring.animation.ValueAnimation",{inherits:boxspring.animation.Animation,properties:{evaluator:{value:function(){return new boxspring.animation.NumberEvaluator}},value:{},from:{},to:{}},constructor:function(){return f.parent.constructor.call(this),this.on("update",this.bind("onUpdate")),e.add(this),this},destroy:function(){e.remove(this),this.off("update",this.bind("onUpdate")),f.parent.destroy.call(this)},progress:function(a){this.emit("update",this.value=this.evaluator.evaluate(a,this.from,this.to))},onUpdate:function(a){}})},"1b":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.ObjectAnimation",{inherits:boxspring.animation.ValueAnimation,properties:{target:{},property:{}},progress:function(a){PropertyAnimation.parent.progress.call(this,a);var b=this.target;if(b==null)throw new Error("Missing target for object animator");var c=this.property;if(c==null)throw new Error("Missing property for object animator");b.set(c,this.value)}})},"1c":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.ViewPropertyAnimation",{inherits:boxspring.animation.ValueAnimation,properties:{view:{},property:{}},onPropertyChange:function(a,b,c){e.parent.onPropertyChange.apply(this,arguments);if(b==="property"||b==="view"&&c){var d=this.view;if(d==null)return;var f=d.animatedPropertyEvaluator(this.property);if(f==null)throw new Error("Property "+this.property+"is not animatable");this.evaluator=f}},onStart:function(a){this.view.emit("propertyanimationstart",this.property,this.from)},onPause:function(a){this.view.emit("propertyanimationpause",this.property,this.from)},onUpdate:function(a){this.view.emit("propertyanimationupdate",this.property,this.value)},onEnd:function(a){this.view.emit("propertyanimationend",this.property,this.value)}})},"1d":function(a,b,c,d){"use strict";var e=boxspring.animation.AnimationRunner,f=boxspring.animation.PropertyAnimation,g=boxspring.define("boxspring.animation.ViewPropertyTransaction",{inherits:boxspring.animation.AnimationGroup,constructor:function(){return g.parent.constructor.call(this),_.include(h,this),this.__animatedViews={},this.__animatedItems={},this.__animatedProperties={},this},destroy:function(){_.remove(h,this),this.__animatedViews=null,this.__animatedItems=null,this.__animatedProperties=null,g.parent.destroy.call(this)},addAnimatedProperty:function(a,b,c,d){this.__animatedViews[a.UID]=a;var e=this.__animatedProperties[b];e==null&&(e=this.__animatedProperties[b]={});for(var f=0;f<h.length;f++){var g=h[f];if(g===this)continue;var i=g.animationForViewProperty(a,b);if(i===null)continue;g.removeAnimatedProperty(a,b),e[a.UID]=i,g.running?(i.from=i.value===null?i.from:i.value,i.end()):i.from=c,this.__animatedItems[a.UID]++;break}var i=e[a.UID];return i==null&&(i=e[a.UID]=new boxspring.animation.ViewPropertyAnimation,i.property=b,i.view=a,i.from=c,this.__animatedItems[a.UID]==null&&(this.__animatedItems[a.UID]=0),this.__animatedItems[a.UID]++),i.to=d,i.__transaction=this,this.addAnimation(i),this},removeAnimatedProperty:function(a,b){var c=this.__animatedProperties[b];if(c==null)return this;var d=c[a.UID];return d==null?this:(--this.__animatedItems[a.UID]===0&&(delete this.__animatedViews[a.UID],delete this.__animatedItems[a.UID]),delete c[a.UID],this.removeAnimation(d),d.__transaction=null,this)},animationForViewProperty:function(a,b){var c=this.__animatedProperties[b];return c==null?null:c[a.UID]||null},onStart:function(a){g.parent.onStart.apply(this,arguments),_.invoke(this.__animatedViews,"emit","animationstart")},onPause:function(a){g.parent.onPause.apply(this,arguments),_.invoke(this.__animatedViews,"emit","animationpause")},onEnd:function(a){g.parent.onEnd.apply(this,arguments),_.invoke(this.__animatedViews,"emit","animationend")},__animatedViews:null,__animatedItems:null,__animatedProperties:null}),h=[]},"1e":function(a,b,c,d){"use strict",a("1f"),a("1g"),a("1h")},"1f":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.layout.Layout",{properties:{view:{value:null},size:{value:function(){return new boxspring.geom.Size}},offset:{value:function(){return new boxspring.geom.Point}}},layout:function(){}})},"1g":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.layout.FixedLayout",{inherits:boxspring.layout.Layout,layout:function(){var a=this.view.borderWidth,b=this.size.x-a*2,c=this.size.y-a*2,d=this.offset.x,e=this.offset.y,f=this.view.children;for(var g=0;g<f.length;g++){var h=f[g],i=h.position.top,j=h.position.left,k=h.position.right,l=h.position.bottom;if(i==="auto"&&l==="auto"&&j==="auto"&&k==="auto")continue;var m=h.size.x,n=h.size.y,o=h.maxSize.x,p=h.maxSize.y,q=h.minSize.x,r=h.minSize.y,s=h.margin.top,t=h.margin.left,u=h.margin.right,v=h.margin.bottom,w=t+u,x=s+v,y=m==="fill"?b:m,z=n==="fill"?c:n,A=0,B=0;j!=="auto"&&k!=="auto"&&(y=b-j-k-w),i!=="auto"&&l!=="auto"&&(z=c-i-l-x),o!=="none"&&y>o&&(y=o),q!=="none"&&y<q&&(y=q),p!=="none"&&z>p&&(z=p),r!=="none"&&z<r&&(z=r),j!=="auto"?A=j+t+a:k!=="auto"&&(A=b-y-k+a),i!=="auto"?B=i+s+a:l!=="auto"&&(B=c-z-l+a),h.measuredSize.x=y,h.measuredSize.y=z,h.measuredOffset.x=A+d,h.measuredOffset.y=B+e}}})},"1h":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.layout.FlexibleLayout",{inherits:boxspring.layout.FixedLayout,properties:{orientation:{value:"vertical"},verticalAlignment:{value:"start"},horizontalAlignment:{value:"start"}},layout:function(){e.parent.layout.call(this);switch(this.orientation){case"vertical":this.__layoutVertically();break;case"horizontal":this.__layoutHorizontally()}return this},onPropertyChange:function(a,b,c,d){(b==="orientation"||b==="verticalAlignment"||b==="horizontalAlignment")&&this.view&&this.view.scheduleLayout(),e.parent.onPropertyChange.apply(this,arguments)},__layoutHorizontally:function(){var a=this.verticalAlignment,b=this.horizontalAlignment,c=this.view.borderWidth,d=this.view.padding.top,e=this.view.padding.left,f=this.view.padding.bottom,g=this.view.padding.right,h=this.size.x-e-g-c*2,i=this.size.y-d-f-c*2,j=0,k=h,l=[],m=0,n=0,o=this.view.children;for(var p=0;p<o.length;p++){var q=o[p],r=q.position.top,s=q.position.left,t=q.position.right,u=q.position.bottom;if(r!=="auto"||u!=="auto"&&s!=="auto"||t!=="auto")continue;var v=q.size.x,w=q.size.y,x=q.maxSize.x,y=q.maxSize.y,z=q.minSize.x,A=q.minSize.y,B=q.margin.top,C=q.margin.left,D=q.margin.right,E=q.margin.bottom,F=C+D,G=B+E,H=v==="fill"?h:v,I=w==="fill"?i:w;x!=="none"&&H>x&&(H=x),z!=="none"&&H<z&&(H=z),y!=="none"&&I>y&&(I=y),A!=="none"&&I<A&&(I=A);if(v==="fill")l.push(q);else{var J=H-F;k-=J,j+=J}q.measuredSize.x=H,q.measuredSize.y=I}n=l.length,m=k/n;for(var p=0;p<l.length;p++){var q=l[p],x=q.maxSize.x,z=q.minSize.x;if(x==="none")continue;var J=m;x!=="none"&&J>x&&(J=x),z!=="none"&&J<z&&(J=z),q.measuredSize.x=J,j+=J,k-=J,n--,m=k/n}for(var p=0;p<l.length;p++){var q=l[p],x=q.maxSize.x,z=q.minSize.x;if(x!=="none")continue;var J=m;x!=="none"&&J>x&&(J=x),z!=="none"&&J<z&&(J=z),q.measuredSize.x=J,j+=J,k-=J,n--,m=k/n}var K=0;switch(b){case"start":K=e+c;break;case"end":K=e+c+h-j;break;case"center":K=h/2-j/2}for(var p=0;p<o.length;p++){var q=o[p],B=q.margin.top,C=q.margin.left,D=q.margin.right,E=q.margin.bottom,H=q.measuredSize.x,I=q.measuredSize.y,L=0,M=0;L=K+C;switch(a){case"start":M=d+c;break;case"end":M=d+c+i-I;break;case"center":M=d+c+i/2-I/2}q.measuredOffset.x=L,q.measuredOffset.y=M,K=L+H}return this},__layoutVertically:function(){var a=this.verticalAlignment,b=this.horizontalAlignment,c=this.view.borderWidth,d=this.view.padding.top,e=this.view.padding.left,f=this.view.padding.bottom,g=this.view.padding.right,h=this.size.x-e-g-c*2,i=this.size.y-d-f-c*2,j=0,k=i,l=[],m=0,n=0,o=this.view.children;for(var p=0;p<o.length;p++){var q=o[p],r=q.position.top,s=q.position.left,t=q.position.right,u=q.position.bottom;if(r!=="auto"||u!=="auto"&&s!=="auto"||t!=="auto")continue;var v=q.size.x,w=q.size.y,x=q.maxSize.x,y=q.maxSize.y,z=q.minSize.x,A=q.minSize.y,B=q.margin.top,C=q.margin.left,D=q.margin.right,E=q.margin.bottom,F=C+D,G=B+E,H=v==="fill"?h:v,I=w==="fill"?i:w;x!=="none"&&H>x&&(H=x),z!=="none"&&H<z&&(H=z),y!=="none"&&I>y&&(I=y),A!=="none"&&I<A&&(I=A);if(w==="fill")l.push(q);else{var J=I-G;k-=J,j+=J}q.measuredSize.x=H,q.measuredSize.y=I}n=l.length,m=k/n;for(var p=0;p<l.length;p++){var q=l[p],y=q.maxSize.y,A=q.minSize.y;if(y==="none")continue;var J=m;y!=="none"&&J>y&&(J=y),A!=="none"&&J<A&&(J=A),q.measuredSize.y=J,j+=J,k-=J,n--,m=k/n}for(var p=0;p<l.length;p++){var q=l[p],y=q.maxSize.y,A=q.minSize.y;if(y!=="none")continue;var J=m;y!=="none"&&J>y&&(J=y),A!=="none"&&J<A&&(J=A),q.measuredSize.y=J,j+=J,k-=J,n--,m=k/n}var K=0;switch(a){case"start":K=d+c;break;case"end":K=d+c+h-j;break;case"center":K=i/2-j/2}for(var p=0;p<o.length;p++){var q=o[p],B=q.margin.top,C=q.margin.left,D=q.margin.right,E=q.margin.bottom,H=q.measuredSize.x,I=q.measuredSize.y,L=0,M=0;M=K+B;switch(b){case"start":L=d+c;break;case"end":L=d+c+i-I;break;case"center":L=d+c+i/2-I/2}q.measuredOffset.x=L,q.measuredOffset.y=M,K=M+I}return this}})},"1i":function(a,b,c,d){"use strict",a("1j"),a("1k"),a("1l"),a("1m")},"1j":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.view.View",{inherits:boxspring.event.Emitter,statics:{setupAnimation:function(a,b){k==null&&(k="reading"),i&&i.layoutIfNeeded();var c=new boxspring.animation.ViewPropertyTransaction;a&&(c.duration=a),b&&(c.equation=b),c.on("start",m),c.on("end",n),_.include(j,c)},startAnimation:function(){i&&i.layoutIfNeeded();for(var a=0;a<j.length;a++)j[a].start();j=[]},animationStatus:function(){return k}},properties:{name:{value:null},window:{value:null,write:!1},parent:{value:null,write:!1},children:{value:[],write:!1,clone:!0},contentLayout:{value:function(){return new boxspring.layout.FlexibleLayout}},backgroundColor:{value:"#fff"},backgroundImage:{value:""},backgroundRepeat:{value:"repeat"},backgroundSize:{value:function(){return new boxspring.geom.Size("auto","auto")}},backgroundClip:{value:"border"},borderColor:{value:"#000"},borderWidth:{value:0,onSet:Math.abs},borderRadius:{value:0,onSet:Math.abs},shadowBlur:{value:0},shadowColor:{value:"#000"},shadowOffset:{value:function(){return new boxspring.geom.Point}},transform:{value:function(){return new boxspring.geom.Matrix}},visible:{value:!0},opacity:{value:1,onSet:function(a){return a>1&&(a=1),a<0&&(a=0),a}},margin:{value:function(){return new boxspring.geom.Thickness},onSet:function(a){typeof a=="number"&&(this.margin.top=a,this.margin.left=a,this.margin.right=a,this.margin.bottom=a)}},padding:{value:function(){return new boxspring.geom.Thickness},onSet:function(a){typeof a=="number"&&(this.padding.top=a,this.padding.left=a,this.padding.right=a,this.padding.bottom=a)}},position:{value:function(){return new boxspring.geom.Position("auto")},onSet:function(a){a==="auto"&&(this.position.top=a,this.position.left=a,this.position.right=a,this.position.bottom=a)}},weight:{value:1},size:{value:function(){return new boxspring.geom.Size("fill","fill")}},minSize:{value:function(){return new boxspring.geom.Size("none","none")}},maxSize:{value:function(){return new boxspring.geom.Size("none","none")}},measuredSize:{value:function(){return new boxspring.geom.Size("none","none")}},measuredOffset:{value:function(){return new boxspring.geom.Point("none","none")}}},constructor:function(){e.parent.constructor.call(this);var a=this.bind("onPropertyChange");return this.on("propertychange","size.x",a),this.on("propertychange","size.y",a),this.on("propertychange","minSize.x",a),this.on("propertychange","minSize.y",a),this.on("propertychange","maxSize.x",a),this.on("propertychange","maxSize.y",a),this.on("propertychange","shadowBlur",a),this.on("propertychange","shadowColor",a),this.on("propertychange","shadowOffset.x",a),this.on("propertychange","shadowOffset.y",a),this.on("propertychange","margin.top",a),this.on("propertychange","margin.left",a),this.on("propertychange","margin.right",a),this.on("propertychange","margin.bottom",a),this.on("propertychange","padding.top",a),this.on("propertychange","padding.left",a),this.on("propertychange","padding.right",a),this.on("propertychange","padding.bottom",a),this.on("propertychange","position.top",a),this.on("propertychange","position.left",a),this.on("propertychange","position.right",a),this.on("propertychange","position.bottom",a),this.on("propertychange","measuredSize.x",a),this.on("propertychange","measuredSize.y",a),this.on("propertychange","measuredOffset.x",a),this.on("propertychange","measuredOffset.y",a),this.on("propertyanimationstart",this.bind("onPropertyAnimationStart")),this.on("propertyanimationupdate",this.bind("onPropertyAnimationUpdate")),this.on("propertyanimationend",this.bind("onPropertyAnimationEnd")),this.on("layout",this.bind("onLayout")),this.on("redraw",this.bind("onRedraw")),this.on("add",this.bind("onAdd")),this.on("remove",this.bind("onRemove")),this.on("addtoparent",this.bind("onAddToParent")),this.on("addtowindow",this.bind("onAddToWindow")),this.on("removefromparent",this.bind("onRemoveFromParent")),this.on("removefromwindow",this.bind("onRemoveFromWindow")),this.on("touchcancel",this.bind("onTouchCancel")),this.on("touchstart",this.bind("onTouchStart")),this.on("touchmove",this.bind("onTouchMove")),this.on("touchend",this.bind("onTouchEnd")),this.__animatedPropertyValues={},this},destroy:function(){this.removeFromParent();var a=this.bind("onPropertyChange");return this.off("propertychange","size.x",a),this.off("propertychange","size.y",a),this.off("propertychange","minSize.x",a),this.off("propertychange","minSize.y",a),this.off("propertychange","maxSize.x",a),this.off("propertychange","maxSize.y",a),this.off("propertychange","shadowBlur",a),this.off("propertychange","shadowColor",a),this.off("propertychange","shadowOffset.x",a),this.off("propertychange","shadowOffset.y",a),this.off("propertychange","margin.top",a),this.off("propertychange","margin.left",a),this.off("propertychange","margin.right",a),this.off("propertychange","margin.bottom",a),this.off("propertychange","padding.top",a),this.off("propertychange","padding.left",a),this.off("propertychange","padding.right",a),this.off("propertychange","padding.bottom",a),this.off("propertychange","position.top",a),this.off("propertychange","position.left",a),this.off("propertychange","position.right",a),this.off("propertychange","position.bottom",a),this.off("propertychange","measuredSize.x",a),this.off("propertychange","measuredSize.y",a),this.off("propertychange","measuredOffset.x",a),this.off("propertychange","measuredOffset.y",a),this.off("propertyanimationstart",this.bind("onPropertyAnimationStart")),this.off("propertyanimationupdate",this.bind("onPropertyAnimationUpdate")),this.off("propertyanimationend",this.bind("onPropertyAnimationEnd")),this.off("add",this.bind("onAdd")),this.off("remove",this.bind("onRemove")),this.off("addtoparent",this.bind("onAddToParent")),this.off("addtowindow",this.bind("onAddToWindow")),this.off("removefromparent",this.bind("onRemoveFromParent")),this.off("removefromwindow",this.bind("onRemoveFromWindow")),this.off("touchcancel",this.bind("onTouchCancel")),this.off("touchstart",this.bind("onTouchStart")),this.off("touchmove",this.bind("onTouchMove")),this.off("touchend",this.bind("onTouchEnd")),this.removeAllListeners(),e.parent.destroy.call(this)},addChild:function(a){return this.addChildAt(a,this.__children.length)},addChildAt:function(a,b){a.removeFromParent();var c=this.__children;return b>c.length?b=c.length:b<0&&(b=0),c.splice(b,0,a),a.setWindow(this.window),a.setParent(this),a.setParentReceiver(this),this.scheduleLayout(),this.emit("add",a),this},addChildBefore:function(a,b){var c=this.childIndex(b);return c===null?this:this.addChildAt(a,c)},addChildAfter:function(a,b){var c=this.childIndex(before);return c===null?this:this.addChildAt(a,c+1)},removeChild:function(a){var b=this.childIndex(a);return b===null?this:this.removeChildAt(b)},removeChildAt:function(a){var b=this.__children,c=b[a];return c==null?this:(b.splice(a,1),c.setWindow(null),c.setParent(null),c.setParentReceiver(null),this.scheduleLayout(),this.emit("remove",c),this)},removeFromParent:function(){var a=this.parent;return a&&a.removeChild(this),this},childIndex:function(a){return this.__children.indexOf(a)},childByName:function(a){},childAt:function(a){return this.__children[a]||null},viewAtPoint:function(a,b){if(this.pointInside(a,b)===!1)return null;var c=this.measuredOffset,d=a-c.x,e=b-c.y,f=this.__children;for(var g=f.length-1;g>=0;g--){var h=f[g];if(h.pointInside(d,e))return h.viewAtPoint(d,e)}return this},pointInside:function(a,b){var c=arguments[0];c instanceof boxspring.geom.Point&&(a=c.x,b=c.y);var d=this.measuredSize,e=this.measuredOffset;return a>=e.x&&a<=e.x+d.x&&b>=e.y&&b<=e.y+d.y},animate:function(a,b,c,d){return e.beginAnimation(c,d),this.set(a,b),e.startAnimation(),this},animatedPropertyValue:function(a){var b=this.__animatedPropertyValues[a];return b==null?this.get(a):b},animatedPropertyEvaluator:function(a){switch(a){case"backgroundColor":case"borderColor":case"shadowColor":return new boxspring.animation.ColorEvaluator;case"backgroundImage":return new boxspring.animation.ImageEvaluator;case"backgroundSize.x":case"backgroundSize.y":case"borderWidth":case"borderRadius":case"shadowBlur":case"shadowOffset.x":case"shadowOffset.y":case"opacity":case"measuredSize.x":case"measuredSize.y":case"measuredOffset.x":case"measuredOffset.y":return new boxspring.animation.NumberEvaluator}return null},propertyIsAnimatable:function(a){return h.indexOf(a)!==-1},redrawOnPropertyChange:function(a){return scheduleRedrawProperties.indexOf(a)!==-1},reflowOnPropertyChange:function(a){return f.indexOf(a)!==-1},layoutOnPropertyChange:function(a){return g.indexOf(a)!==-1},scheduleRedraw:function(){return this.__redrawScheduled=!0,this},scheduleLayout:function(){return this.__layoutScheduled=!0,this},scheduleReflow:function(){var a=this.parent;return a&&a.scheduleLayout(),this},redrawIfNeeded:function(a){return this.__redrawScheduled&&(this.__redrawScheduled=!1,this.redraw(a),this.emit("redraw",a)),this},layoutIfNeeded:function(){var a=this.parent;if(a&&a.__layoutScheduled){a.layoutIfNeeded();return}return this.__layoutScheduled&&(this.__layoutScheduled=!1,this.layout(),this.emit("layout")),_.invoke(this.__children,"layoutIfNeeded"),this},redraw:function(a,b){return this},layout:function(){return this.contentLayout&&(this.contentLayout.view=this,this.contentLayout.size.x=this.measuredSize.x,this.contentLayout.size.y=this.measuredSize.y,this.contentLayout.layout()),this},onPropertyChange:function(a,b,c,d,e){this.redrawOnPropertyChange(b)&&this.scheduleRedraw(),this.reflowOnPropertyChange(b)&&this.scheduleReflow(),this.layoutOnPropertyChange(b)&&this.scheduleLayout(),i===null&&(i=this.window);var f=j[j.length-1];if(f&&this.propertyIsAnimatable(b)){var g=c,h=d;if(b==="measuredSize.x"&&d==="none"||b==="measuredSize.y"&&d==="none"||b==="measuredOffset.x"&&d==="none"||b==="measuredOffset.y"&&d==="none")h=g;f.addAnimatedProperty(this,b,h,g)}},onRedraw:function(a){},onLayout:function(a){},onAdd:function(a,b){},onRemove:function(a,b){},onAddToParent:function(a,b){},onRemoveFromParent:function(a,b){},onAddToWindow:function(a,b){},onRemoveFromWindow:function(a,b){},onPropertyAnimationStart:function(a,b){this.__animatedPropertyValues[a]=b},onPropertyAnimationUpdate:function(a,b){this.__animatedPropertyValues[a]=b,this.redrawOnPropertyChange(a)&&this.scheduleRedraw()},onPropertyAnimationEnd:function(a,b){delete this.__animatedPropertyValues[a]},onTouchCancel:function(a,b){},onTouchStart:function(a,b){},onTouchMove:function(a,b){},onTouchEnd:function(a,b){},setParent:function(a){var b=this.__parent;return b&&a===null?(this.__parent=a,this.emit("propertychange","parent",a),this.emit("removefromparent",b),this):b===null&&a?(this.__parent=a,this.emit("propertychange","parent",a),this.emit("addtoparent",b),this):this},setWindow:function(a){var b=this.__window;return b&&a===null?(this.__window=a,this.emit("propertychange","window",a),this.emit("removefromwindow",a),this):b===null&&a?(this.__window=a,this.emit("propertychange","window",a),this.emit("addtowindow",b),this):(_.invoke(this.__children,"setWindow",a),this)},__redrawScheduled:!1,__layoutScheduled:!1,__animatedPropertyValues:null}),f=["size.x","size.y","minSize.x","minSize.y","maxSize.x","maxSize.y","visible","margin.top","margin.left","margin.right","margin.bottom","position.top","position.left","position.right","position.bottom"],g=["measuredSize.x","measuredSize.y","borderWidth","padding.top","padding.left","padding.right","padding.bottom","contentLayout"],h=["backgroundColor","borderColor","shadowColor","backgroundImage","backgroundSize.x","backgroundSize.y","borderWidth","borderRadius","shadowBlur","shadowOffset.x","shadowOffset.y","opacity","measuredSize.x","measuredSize.y","measuredOffset.x","measuredOffset.y"],i=null,j=[],k=null,l=0,m=function(a){l++,k="running"},n=function(a){l--,k=l===0&&k!=="reading"?null:"reading",a.source.destroy()}},"1k":function(a,b,c,d){"use strict";var e=boxspring.override("boxspring.view.View",{destroy:function(){var a=l[this.UID];a&&(a.width=0,a.height=0,delete l[this.UID]);var b=m[this.UID];return b&&(b.width=0,b.height=0,delete m[this.UID]),e.parent.destroy.call(this),this},redrawOnPropertyChange:function(a){return f.indexOf(a)!==-1},scheduleLayout:function(){return e.parent.scheduleLayout.call(this),q(this,h),this},scheduleRedraw:function(){return e.parent.scheduleRedraw.call(this),q(this,i),this},redraw:function(a){return this.__redrawBackground(a),this.__redrawBorder(a),this.__redrawShadow(a),this},onPropertyChange:function(a,b,c,d,f){(b==="shadowBlur"||b==="shadowColor"||b==="shadowOffset"||b==="shadowOffset.x"||b==="shadowOffset.y")&&q(this,j),(b==="measuredSize"||b==="measuredSize.x"||b==="measuredSize.y"||b==="measuredOffset"||b==="measuredOffset.x"||b==="measuredOffset.y"||b==="opacity"||b==="transform")&&q(this,g),e.parent.onPropertyChange.call(this,a,b,c,d,f)},onPropertyAnimationUpdate:function(a,b){e.parent.onPropertyAnimationUpdate.call(this,a,b),q(this,k)},__redrawBackground:function(a){var b=this.measuredSize.x,c=this.measuredSize.y,d=this.animatedPropertyValue("borderRadius"),e=this.animatedPropertyValue("backgroundClip"),f=this.animatedPropertyValue("backgroundColor"),g=this.animatedPropertyValue("backgroundImage"),h=this.animatedPropertyValue("backgroundRepeat");if(f||g){var i=b,j=c,k=d;e==="content"&&(i-=borderWidth*2,j-=borderWidth*2,k-=borderWidth,backgroundOriginX+=borderWidth,backgroundOriginY+=borderWidth),k<0&&(k=0),a.save(),v(a,0,0,i,j,k),f&&(a.fillStyle=f,a.fill()),g&&(a.fillStyle=a.createPattern(g,h),a.fill()),a.restore()}return this},__redrawBorder:function(a,b){var c=this.animatedPropertyValue("measuredSize.x"),d=this.animatedPropertyValue("measuredSize.y"),e=this.animatedPropertyValue("borderWidth"),f=this.animatedPropertyValue("borderColor"),g=this.animatedPropertyValue("borderRadius");if(e&&f){var h=c-e,i=d-e,j=e/2,k=e/2,l=g-e/2;l<0&&(l=0),a.save(),v(a,j,k,h,i,l),a.lineCap="butt",a.lineWidth=e,a.strokeStyle=f,a.stroke(),a.restore()}return this},__redrawShadow:function(a,b){}}),f=["backgroundColor","backgroundImage","backgroundRepeat","backgroundClip","backgroundSize","backgroundSize.x","backgroundSize.y","borderRadius","borderColor","borderWidth","shadowBlur","shadowColor","shadowOffset","shadowOffset.x","shadowOffset.y"],g=1,h=2,i=4,j=8,k=16,l={},m={},n={},o={},p=!1,q=function(a,b){o[a.UID]==null&&(o[a.UID]=0),n[a.UID]=a,o[a.UID]|=b;var c=e.animationStatus();if(c==="reading"||c==="running")if(b!==k)return;p===!1&&(a.window||a instanceof boxspring.view.Window)&&(p=!0,boxspring.render.RenderLoop.run(t,boxspring.render.RenderLoop.RENDER_PRIORITY))},r,s,t=function(){p=!1;var a=null;for(var b in n){var c=n[b];if(c instanceof boxspring.view.Window){a=c;break}a=n[b].window;if(a)break}if(a==null)return;a.size.x==="auto"&&(a.measuredSize.x=window.innerWidth),a.size.y==="auto"&&(a.measuredSize.y=window.innerHeight),x.clearRect(0,0,w.width,w.height),u(a,x),n={},o={};if(!r){r=(new Date).getTime(),s=0;return}var d=((new Date).getTime()-r)/1e3;r=(new Date).getTime(),s=1/d,x.fillText(s.toFixed(1)+"fps",10,10)},u=function(a,b){var c=o[a.UID];c&h&&a.layoutIfNeeded();var d=a.animatedPropertyValue("measuredSize.x"),e=a.animatedPropertyValue("measuredSize.y"),f=a.animatedPropertyValue("measuredOffset.x"),g=a.animatedPropertyValue("measuredOffset.y"),j=l[a.UID];if(j==null)j=l[a.UID]=document.createElement("canvas"),j.width=Math.floor(a.measuredSize.x),j.height=Math.floor(a.measuredSize.y);else if(j.width!==Math.floor(a.measuredSize.x)||j.height!==Math.floor(a.measuredSize.y))j.width=a.measuredSize.x,j.height=a.measuredSize.y,c|=i,a.scheduleRedraw();if(c&i){var k=j.getContext("2d");k.save(),k.clearRect(0,0,a.measuredSize.x,a.measuredSize.y),a.redrawIfNeeded(k),k.restore()}b.save(),b.globalAlpha=b.globalAlpha*a.animatedPropertyValue("opacity"),d>0&&e>0&&j.width>0&&j.height>0&&b.drawImage(j,0,0,j.width,j.height,f,g,d,e),b.translate(f,g);var m=a.__children;for(var n=0;n<m.length;n++)u(m[n],b);b.restore()},v=function(a,b,c,d,e,f){return a.beginPath(),f?(a.moveTo(b+f,c),a.lineTo(b+d-f,c),a.quadraticCurveTo(b+d,c,b+d,c+f),a.lineTo(b+d,c+e-f),a.quadraticCurveTo(b+d,c+e,b+d-f,c+e),a.lineTo(b+f,c+e),a.quadraticCurveTo(b,c+e,b,c+e-f),a.lineTo(b,c+f),a.quadraticCurveTo(b,c,b+f,c)):a.rect(b,c,d,e),a.closePath(),this},w=null,x=null;document.addEventListener("DOMContentLoaded",function(a){w=document.createElement("canvas"),w.width=window.innerWidth,w.height=window.innerHeight,document.body.appendChild(w),x=w.getContext("2d"),window.addEventListener("resize",function(){w.width=window.innerWidth,w.height=window.innerHeight})})},"1l":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.view.Window",{inherits:boxspring.view.View,statics:{instance:function(){return f==null&&(f=new boxspring.view.Window),f}},constructor:function(){return e.parent.constructor.call(this),this.measuredOffset.x=0,this.measuredOffset.y=0,this},onAdd:function(a,b){e.parent.onAdd.call(this,a),a.setWindow(this)},onRemove:function(a,b){e.parent.onRemove.call(this,a),a.setWindow(null)}}),f=null},"1m":function(a,b,c,d){"use strict";var e=boxspring.override("boxspring.view.Window",{constructor:function(){return e.parent.constructor.call(this),window.addEventListener("resize",this.bind("__onWindowResize")),this},__onWindowResize:function(){this.scheduleLayout()}})}})
