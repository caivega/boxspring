(function(a){var b={},c=function(d){var e=b[d];if(!e){e=b[d]={};var f=e.exports={};a[d].call(f,c,e,f,window)}return e.exports};window.boxspring=c("0")})({0:function(a,b,c,d){"use strict",a("1"),a("9"),a("h"),a("10"),a("12"),a("1h"),a("1j"),b.exports=boxspring},1:function(a,b,c,d){"use strict",d.boxspring===undefined&&(d.boxspring={}),d._=a("2"),_.mixin({include:function(a,b){var c=_.indexOf(a,b);c<0&&a.push(b)},remove:function(a,b){var c=_.indexOf(a,b);c>-1&&a.splice(c,1)}}),boxspring.version="0.0.1-dev",a("3"),a("4"),a("5"),a("6"),a("7"),a("8")},2:function(a,b,c,d){(function(a){function R(a,b,c){var d=(c||0)-1,e=a.length;while(++d<e)if(a[d]===b)return d;return-1}function S(a,b){var c=typeof b;a=a.cache;if(c=="boolean"||b==null)return a[b];c!="number"&&c!="string"&&(c="object");var d=c=="number"?b:j+b;return a=a[c]||(a[c]={}),c=="object"?a[d]&&R(a[d],b)>-1?0:-1:a[d]?0:-1}function T(a){var b=this.cache,c=typeof a;if(c=="boolean"||a==null)b[a]=!0;else{c!="number"&&c!="string"&&(c="object");var d=c=="number"?a:j+a,e=b[c]||(b[c]={});c=="object"?(e[d]||(e[d]=[])).push(a)==this.array.length&&(b[c]=!1):e[d]=!0}}function U(a){return a.charCodeAt(0)}function V(a,b){var c=a.index,d=b.index;a=a.criteria,b=b.criteria;if(a!==b){if(a>b||typeof a=="undefined")return 1;if(a<b||typeof b=="undefined")return-1}return c<d?-1:1}function W(a){var b=-1,c=a.length,d=Z();d["false"]=d["null"]=d["true"]=d["undefined"]=!1;var e=Z();e.array=a,e.cache=d,e.push=T;while(++b<c)e.push(a[b]);return d.object===!1?(ab(e),null):e}function X(a){return"\\"+N[a]}function Y(){return f.pop()||[]}function Z(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,"undefined":!1,value:null}}function $(){}function _(a){a.length=0,f.length<l&&f.push(a)}function ab(a){var b=a.cache;b&&ab(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,g.length<l&&g.push(a)}function bb(a,b,c){b||(b=0),typeof c=="undefined"&&(c=a?a.length:0);var d=-1,e=c-b||0,f=Array(e<0?0:e);while(++d<e)f[d]=a[b+d];return f}function cb(b){function Ib(a){return a&&typeof a=="object"&&!Tb(a)&&ob.call(a,"__wrapped__")?a:new Jb(a)}function Jb(a){this.__wrapped__=a}function Lb(a,b,c,d){function i(){var d=arguments,j=f?this:b;e||(a=b[g]),c.length&&(d=d.length?(d=Eb.call(d),h?d.concat(c):c.concat(d)):c);if(this instanceof i){j=Mb(a.prototype);var k=a.apply(j,d);return nc(k)?k:j}return a.apply(j,d)}var e=mc(a),f=!c,g=b;if(f){var h=d;c=b}else if(!e){if(!d)throw new T;b=a}return i}function Mb(a){return nc(a)?vb(a):{}}function Nb(a){return Wb[a]}function Ob(a,b,c){var d=(d=Ib.indexOf)===ad?R:d;return d}function Pb(a){return function(b,c,d,f){return typeof c!="boolean"&&c!=null&&(f=d,d=!f||f[c]!==b?c:e,c=!1),d!=null&&(d=Ib.createCallback(d,f)),a(b,c,d,f)}}function Qb(a){var b,c;return!!a&&tb.call(a)==I&&(b=a.constructor,!mc(b)||b instanceof b)?(bc(a,function(a,b){c=b}),c===e||ob.call(a,c)):!1}function Rb(a){return Xb[a]}function Sb(a){return tb.call(a)==B}function Zb(a,b,c,d,f,g){var h=a;typeof b!="boolean"&&b!=null&&(d=c,c=b,b=!1);if(typeof c=="function"){c=typeof d=="undefined"?c:Ib.createCallback(c,d,1),h=c(h);if(typeof h!="undefined")return h;h=a}var i=nc(h);if(i){var j=tb.call(h);if(!L[j])return h;var k=Tb(h)}if(!i||!b)return i?k?bb(h):Yb({},h):h;var l=Hb[j];switch(j){case D:case E:return new l(+h);case H:case K:return new l(h);case J:return l(h.source,r.exec(h))}var m=!f;f||(f=Y()),g||(g=Y());var n=f.length;while(n--)if(f[n]==a)return g[n];return h=k?l(h.length):{},k&&(ob.call(a,"index")&&(h.index=a.index),ob.call(a,"input")&&(h.input=a.input)),f.push(a),g.push(h),(k?Hc:cc)(a,function(a,d){h[d]=Zb(a,b,c,e,f,g)}),m&&(_(f),_(g)),h}function $b(a,b,c){return Zb(a,!0,b,c)}function ac(a,b,c){var d;return b=Ib.createCallback(b,c),cc(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function dc(a){var b=[];return bc(a,function(a,c){mc(a)&&b.push(c)}),b.sort()}function ec(a,b){return a?ob.call(a,b):!1}function fc(a){var b=-1,c=Vb(a),d=c.length,e={};while(++b<d){var f=c[b];e[a[f]]=f}return e}function gc(a){return a===!0||a===!1||tb.call(a)==D}function hc(a){return a?typeof a=="object"&&tb.call(a)==E:!1}function ic(a){return a?a.nodeType===1:!1}function jc(a){var b=!0;if(!a)return b;var c=tb.call(a),d=a.length;return c==C||c==K||c==B||c==I&&typeof d=="number"&&mc(a.splice)?!d:(cc(a,function(){return b=!1}),b)}function kc(a,b,c,d,e,f){var g=c===i;if(typeof c=="function"&&!g){c=Ib.createCallback(c,d,2);var h=c(a,b);if(typeof h!="undefined")return!!h}if(a===b)return a!==0||1/a==1/b;var j=typeof a,k=typeof b;if(a===a&&(!a||j!="function"&&j!="object")&&(!b||k!="function"&&k!="object"))return!1;if(a==null||b==null)return a===b;var l=tb.call(a),m=tb.call(b);l==B&&(l=I),m==B&&(m=I);if(l!=m)return!1;switch(l){case D:case E:return+a==+b;case H:return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case J:case K:return a==Q(b)}var n=l==C;if(!n){if(ob.call(a,"__wrapped__ ")||ob.call(b,"__wrapped__"))return kc(a.__wrapped__||a,b.__wrapped__||b,c,d,e,f);if(l!=I)return!1;var o=a.constructor,p=b.constructor;if(o!=p&&!(mc(o)&&o instanceof o&&mc(p)&&p instanceof p))return!1}var q=!e;e||(e=Y()),f||(f=Y());var r=e.length;while(r--)if(e[r]==a)return f[r]==b;var s=0;h=!0,e.push(a),f.push(b);if(n){r=a.length,s=b.length,h=s==a.length;if(!h&&!g)return h;while(s--){var t=r,u=b[s];if(g){while(t--)if(h=kc(a[t],u,c,d,e,f))break}else if(!(h=kc(a[s],u,c,d,e,f)))break}return h}return bc(b,function(b,g,i){if(ob.call(i,g))return s++,h=ob.call(a,g)&&kc(a[g],b,c,d,e,f)}),h&&!g&&bc(a,function(a,b,c){if(ob.call(c,b))return h=--s>-1}),q&&(_(e),_(f)),h}function lc(a){return xb(a)&&!yb(parseFloat(a))}function mc(a){return typeof a=="function"}function nc(a){return!!a&&!!M[typeof a]}function oc(a){return qc(a)&&a!=+a}function pc(a){return a===null}function qc(a){return typeof a=="number"||tb.call(a)==H}function sc(a){return a?typeof a=="object"&&tb.call(a)==J:!1}function tc(a){return typeof a=="string"||tb.call(a)==K}function uc(a){return typeof a=="undefined"}function vc(a,b,c){var d=arguments,e=0,f=2;if(!nc(a))return a;if(c===i)var g=d[3],h=d[4],j=d[5];else{var k=!0;h=Y(),j=Y(),typeof c!="number"&&(f=d.length),f>3&&typeof d[f-2]=="function"?g=Ib.createCallback(d[--f-1],d[f--],2):f>2&&typeof d[f-1]=="function"&&(g=d[--f])}while(++e<f)(Tb(d[e])?Hc:cc)(d[e],function(b,c){var d,e,f=b,k=a[c];if(b&&((e=Tb(b))||rc(b))){var l=h.length;while(l--)if(d=h[l]==b){k=j[l];break}if(!d){var m;if(g){f=g(k,b);if(m=typeof f!="undefined")k=f}m||(k=e?Tb(k)?k:[]:rc(k)?k:{}),h.push(b),j.push(k),m||(k=vc(k,b,i,g,h,j))}}else g&&(f=g(k,b),typeof f=="undefined"&&(f=b)),typeof f!="undefined"&&(k=f);a[c]=k});return k&&(_(h),_(j)),a}function wc(a,b,c){var d=Ob(),e=typeof b=="function",f={};if(e)b=Ib.createCallback(b,c);else var g=kb.apply($,Eb.call(arguments,1));return bc(a,function(a,c,h){if(e?!b(a,c,h):d(g,c)<0)f[c]=a}),f}function xc(a){var b=-1,d=Vb(a),e=d.length,f=c(e);while(++b<e){var g=d[b];f[b]=[g,a[g]]}return f}function yc(a,b,c){var d={};if(typeof b!="function"){var e=-1,f=kb.apply($,Eb.call(arguments,1)),g=nc(a)?f.length:0;while(++e<g){var h=f[e];h in a&&(d[h]=a[h])}}else b=Ib.createCallback(b,c),bc(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function zc(a,b,c,d){var e=Tb(a);b=Ib.createCallback(b,d,4);if(c==null)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=Mb(g)}return(e?Hc:cc)(a,function(a,d,e){return b(c,a,d,e)}),c}function Ac(a){var b=-1,d=Vb(a),e=d.length,f=c(e);while(++b<e)f[b]=a[d[b]];return f}function Bc(a){var b=-1,d=kb.apply($,Eb.call(arguments,1)),e=d.length,f=c(e);while(++b<e)f[b]=a[d[b]];return f}function Cc(a,b,c){var d=-1,e=Ob(),f=a?a.length:0,g=!1;return c=(c<0?Ab(0,f+c):c)||0,f&&typeof f=="number"?g=(tc(a)?a.indexOf(b,c):e(a,b,c))>-1:cc(a,function(a){if(++d>=c)return!(g=a===b)}),g}function Dc(a,b,c){var d={};return b=Ib.createCallback(b,c),Hc(a,function(a,c,e){c=Q(b(a,c,e)),ob.call(d,c)?d[c]++:d[c]=1}),d}function Ec(a,b,c){var d=!0;b=Ib.createCallback(b,c);var e=-1,f=a?a.length:0;if(typeof f=="number"){while(++e<f)if(!(d=!!b(a[e],e,a)))break}else cc(a,function(a,c,e){return d=!!b(a,c,e)});return d}function Fc(a,b,c){var d=[];b=Ib.createCallback(b,c);var e=-1,f=a?a.length:0;if(typeof f=="number")while(++e<f){var g=a[e];b(g,e,a)&&d.push(g)}else cc(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Gc(a,b,c){b=Ib.createCallback(b,c);var d=-1,e=a?a.length:0;if(typeof e!="number"){var g;return cc(a,function(a,c,d){if(b(a,c,d))return g=a,!1}),g}while(++d<e){var f=a[d];if(b(f,d,a))return f}}function Hc(a,b,c){var d=-1,e=a?a.length:0;b=b&&typeof c=="undefined"?b:Ib.createCallback(b,c);if(typeof e=="number"){while(++d<e)if(b(a[d],d,a)===!1)break}else cc(a,b);return a}function Ic(a,b,c){var d={};return b=Ib.createCallback(b,c),Hc(a,function(a,c,e){c=Q(b(a,c,e)),(ob.call(d,c)?d[c]:d[c]=[]).push(a)}),d}function Jc(a,b){var d=Eb.call(arguments,2),e=-1,f=typeof b=="function",g=a?a.length:0,h=c(typeof g=="number"?g:0);return Hc(a,function(a){h[++e]=(f?b:a[b]).apply(a,d)}),h}function Kc(a,b,d){var e=-1,f=a?a.length:0;b=Ib.createCallback(b,d);if(typeof f=="number"){var g=c(f);while(++e<f)g[e]=b(a[e],e,a)}else g=[],cc(a,function(a,c,d){g[++e]=b(a,c,d)});return g}function Lc(a,b,c){var d=-Infinity,e=d;if(!b&&Tb(a)){var f=-1,g=a.length;while(++f<g){var h=a[f];h>e&&(e=h)}}else b=!b&&tc(a)?U:Ib.createCallback(b,c),Hc(a,function(a,c,f){var g=b(a,c,f);g>d&&(d=g,e=a)});return e}function Mc(a,b,c){var d=Infinity,e=d;if(!b&&Tb(a)){var f=-1,g=a.length;while(++f<g){var h=a[f];h<e&&(e=h)}}else b=!b&&tc(a)?U:Ib.createCallback(b,c),Hc(a,function(a,c,f){var g=b(a,c,f);g<d&&(d=g,e=a)});return e}function Nc(a,b){var d=-1,e=a?a.length:0;if(typeof e=="number"){var f=c(e);while(++d<e)f[d]=a[d][b]}return f||Kc(a,b)}function Oc(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=Ib.createCallback(b,d,4);var f=-1,g=a.length;if(typeof g=="number"){e&&(c=a[++f]);while(++f<g)c=b(c,a[f],f,a)}else cc(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function Pc(a,b,c,d){var e=a,f=a?a.length:0,g=arguments.length<3;if(typeof f!="number"){var h=Vb(a);f=h.length}return b=Ib.createCallback(b,d,4),Hc(a,function(a,d,i){d=h?h[--f]:--f,c=g?(g=!1,e[d]):b(c,e[d],d,i)}),c}function Qc(a,b,c){return b=Ib.createCallback(b,c),Fc(a,function(a,c,d){return!b(a,c,d)})}function Rc(a){var b=-1,d=a?a.length:0,e=c(typeof d=="number"?d:0);return Hc(a,function(a){var c=lb(Db()*(++b+1));e[b]=e[c],e[c]=a}),e}function Sc(a){var b=a?a.length:0;return typeof b=="number"?b:Vb(a).length}function Tc(a,b,c){var d;b=Ib.createCallback(b,c);var e=-1,f=a?a.length:0;if(typeof f=="number"){while(++e<f)if(d=b(a[e],e,a))break}else cc(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function Uc(a,b,d){var e=-1,f=a?a.length:0,g=c(typeof f=="number"?f:0);b=Ib.createCallback(b,d),Hc(a,function(a,c,d){var f=g[++e]=Z();f.criteria=b(a,c,d),f.index=e,f.value=a}),f=g.length,g.sort(V);while(f--){var h=g[f];g[f]=h.value,ab(h)}return g}function Vc(a){return a&&typeof a.length=="number"?bb(a):Ac(a)}function Xc(a){var b=-1,c=a?a.length:0,d=[];while(++b<c){var e=a[b];e&&d.push(e)}return d}function Yc(a){var b=-1,c=Ob(),d=a?a.length:0,e=kb.apply($,Eb.call(arguments,1)),f=[],g=d>=k&&c===R;if(g){var h=W(e);h?(c=S,e=h):g=!1}while(++b<d){var i=a[b];c(e,i)<0&&f.push(i)}return g&&ab(e),f}function Zc(a,b,c){var d=-1,e=a?a.length:0;b=Ib.createCallback(b,c);while(++d<e)if(b(a[d],d,a))return d;return-1}function $c(a,b,c){if(a){var d=0,e=a.length;if(typeof b!="number"&&b!=null){var f=-1;b=Ib.createCallback(b,c);while(++f<e&&b(a[f],f,a))d++}else{d=b;if(d==null||c)return a[0]}return bb(a,0,Bb(Ab(0,d),e))}}function ad(a,b,c){if(typeof c=="number"){var d=a?a.length:0;c=c<0?Ab(0,d+c):c||0}else if(c){var e=hd(a,b);return a[e]===b?e:-1}return a?R(a,b,c):-1}function bd(a,b,c){if(!a)return[];var d=0,e=a.length;if(typeof b!="number"&&b!=null){var f=e;b=Ib.createCallback(b,c);while(f--&&b(a[f],f,a))d++}else d=b==null||c?1:b||d;return bb(a,0,Bb(Ab(0,e-d),e))}function cd(a){var b=arguments,c=b.length,d=-1,e=Y(),f=-1,g=Ob(),h=a?a.length:0,i=[],j=Y();while(++d<c){var l=b[d];e[d]=g===R&&(l?l.length:0)>=k&&W(d?b[d]:j)}a:while(++f<h){var m=e[0];l=a[f];if((m?S(m,l):g(j,l))<0){d=c,(m||j).push(l);while(--d){m=e[d];if((m?S(m,l):g(b[d],l))<0)continue a}i.push(l)}}while(c--)m=e[c],m&&ab(m);return _(e),_(j),i}function dd(a,b,c){if(a){var d=0,e=a.length;if(typeof b!="number"&&b!=null){var f=e;b=Ib.createCallback(b,c);while(f--&&b(a[f],f,a))d++}else{d=b;if(d==null||c)return a[e-1]}return bb(a,Ab(0,e-d))}}function ed(a,b,c){var d=a?a.length:0;typeof c=="number"&&(d=(c<0?Ab(0,d+c):Bb(c,d-1))+1);while(d--)if(a[d]===b)return d;return-1}function fd(a,b,d){a=+a||0,d=+d||1,b==null&&(b=a,a=0);var e=-1,f=Ab(0,ib((b-a)/d)),g=c(f);while(++e<f)g[e]=a,a+=d;return g}function gd(a,b,c){if(typeof b!="number"&&b!=null){var d=0,e=-1,f=a?a.length:0;b=Ib.createCallback(b,c);while(++e<f&&b(a[e],e,a))d++}else d=b==null||c?1:Ab(0,b);return bb(a,d)}function hd(a,b,c,d){var e=0,f=a?a.length:e;c=c?Ib.createCallback(c,d,1):Ed,b=c(b);while(e<f){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function id(a){return Tb(a)||(arguments[0]=a?Eb.call(a):$),jd(kb.apply($,arguments))}function kd(a){var b=-1,d=a?Lc(Nc(a,"length")):0,e=c(d<0?0:d);while(++b<d)e[b]=Nc(a,b);return e}function ld(a){return Yc(a,Eb.call(arguments,1))}function md(a){return a?kd(arguments):[]}function nd(a,b){var c=-1,d=a?a.length:0,e={};while(++c<d){var f=a[c];b?e[f]=b[c]:e[f[0]]=f[1]}return e}function od(a,b){return a<1?b():function(){if(--a<1)return b.apply(this,arguments)}}function pd(a,b){return Kb.fastBind||ub&&arguments.length>2?ub.call.apply(ub,arguments):Lb(a,b,Eb.call(arguments,2))}function qd(a){var b=arguments.length>1?kb.apply($,Eb.call(arguments,1)):dc(a),c=-1,d=b.length;while(++c<d){var e=b[c];a[e]=pd(a[e],a)}return a}function rd(a,b){return Lb(a,b,Eb.call(arguments,2),i)}function sd(){var a=arguments;return function(){var b=arguments,c=a.length;while(c--)b=[a[c].apply(this,b)];return b[0]}}function td(a,b,c){if(a==null)return Ed;var d=typeof a;if(d!="function"){if(d!="object")return function(b){return b[a]};var e=Vb(a);return function(b){var c=e.length,d=!1;while(c--)if(!(d=kc(b[e[c]],a[e[c]],i)))break;return d}}return typeof b=="undefined"||t&&!t.test(mb.call(a))?a:c===1?function(c){return a.call(b,c)}:c===2?function(c,d){return a.call(b,c,d)}:c===4?function(c,d,e,f){return a.call(b,c,d,e,f)}:function(c,d,e){return a.call(b,c,d,e)}}function ud(a,b,c){function n(){jb(k),jb(l),h=0,k=l=null}function o(){var b=m&&(!q||h>1);n(),b&&(j!==!1&&(i=new f),e=a.apply(g,d))}function p(){n();if(m||j!==b)i=new f,e=a.apply(g,d)}var d,e,g,h=0,i=0,j=!1,k=null,l=null,m=!0;b=Ab(0,b||0);if(c===!0){var q=!0;m=!1}else nc(c)&&(q=c.leading,j="maxWait"in c&&Ab(b,c.maxWait||0),m="trailing"in c?c.trailing:m);return function(){d=arguments,g=this,h++,jb(l);if(j===!1)q&&h<2&&(e=a.apply(g,d));else{var c=new f;!k&&!q&&(i=c);var m=j-(c-i);m<=0?(jb(k),k=null,i=c,e=a.apply(g,d)):k||(k=sb(p,m))}return b!==j&&(l=sb(o,b)),e}}function vd(a){var b=Eb.call(arguments,1);return sb(function(){a.apply(e,b)},1)}function wd(a,b){var c=Eb.call(arguments,2);return sb(function(){a.apply(e,c)},b)}function xd(a,b){function c(){var d=c.cache,e=j+(b?b.apply(this,arguments):arguments[0]);return ob.call(d,e)?d[e]:d[e]=a.apply(this,arguments)}return c.cache={},c}function yd(a){var b,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function zd(a){return Lb(a,Eb.call(arguments,1))}function Ad(a){return Lb(a,Eb.call(arguments,1),null,i)}function Bd(a,b,c){var d=!0,e=!0;c===!1?d=!1:nc(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),c=Z(),c.leading=d,c.maxWait=b,c.trailing=e;var f=ud(a,b,c);return ab(c),f}function Cd(a,b){return function(){var c=[a];return pb.apply(c,arguments),b.apply(this,c)}}function Dd(a){return a==null?"":Q(a).replace(x,Nb)}function Ed(a){return a}function Fd(a){Hc(dc(a),function(b){var c=Ib[b]=a[b];Ib.prototype[b]=function(){var a=this.__wrapped__,b=[a];pb.apply(b,arguments);var d=c.apply(Ib,b);return a&&typeof a=="object"&&a===d?this:new Jb(d)}})}function Gd(){return b._=gb,this}function Id(a,b){a==null&&b==null&&(b=1),a=+a||0,b==null?(b=a,a=0):b=+b||0;var c=Db();return a%1||b%1?a+Bb(c*(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+lb(c*(b-a+1))}function Jd(a,b){var c=a?a[b]:e;return mc(c)?a[b]():c}function Kd(a,b,c){var d=Ib.templateSettings;a||(a=""),c=_b({},c,d);var f=_b({},c.imports,d.imports),h=Vb(f),i=Ac(f),j,k=0,l=c.interpolate||w,p="__p += '",r=O((c.escape||w).source+"|"+l.source+"|"+(l===s?q:w).source+"|"+(c.evaluate||w).source+"|$","g");a.replace(r,function(b,c,d,e,f,g){return d||(d=e),p+=a.slice(k,g).replace(y,X),c&&(p+="' +\n__e("+c+") +\n'"),f&&(j=!0,p+="';\n"+f+";\n__p += '"),d&&(p+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=g+b.length,b}),p+="';\n";var t=c.variable,u=t;u||(t="obj",p="with ("+t+") {\n"+p+"\n}\n"),p=(j?p.replace(m,""):p).replace(n,"$1").replace(o,"$1;"),p="function("+t+") {\n"+(u?"":t+" || ("+t+" = {});\n")+"var __t, __p = '', __e = _.escape"+(j?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v="\n/*\n//@ sourceURL="+(c.sourceURL||"/lodash/template/source["+A++ +"]")+"\n*/";try{var x=g(h,"return "+p+v).apply(e,i)}catch(z){throw z.source=p,z}return b?x(b):(x.source=p,x)}function Ld(a,b,d){a=(a=+a)>-1?a:0;var e=-1,f=c(a);b=Ib.createCallback(b,d,1);while(++e<a)f[e]=b(e);return f}function Md(a){return a==null?"":Q(a).replace(p,Rb)}function Nd(a){var b=++h;return Q(a==null?"":a)+b}function Od(a,b){return b(a),a}function Pd(){return Q(this.__wrapped__)}function Qd(){return this.__wrapped__}b=b?db.defaults(a.Object(),b,db.pick(a,z)):a;var c=b.Array,d=b.Boolean,f=b.Date,g=b.Function,l=b.Math,F=b.Number,N=b.Object,O=b.RegExp,Q=b.String,T=b.TypeError,$=[],eb=N.prototype,fb=Q.prototype,gb=b._,hb=O("^"+Q(eb.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),ib=l.ceil,jb=b.clearTimeout,kb=$.concat,lb=l.floor,mb=g.prototype.toString,nb=hb.test(nb=N.getPrototypeOf)&&nb,ob=eb.hasOwnProperty,pb=$.push,qb=eb.propertyIsEnumerable,rb=b.setImmediate,sb=b.setTimeout,tb=eb.toString,ub=hb.test(ub=tb.bind)&&ub,vb=hb.test(vb=N.create)&&vb,wb=hb.test(wb=c.isArray)&&wb,xb=b.isFinite,yb=b.isNaN,zb=hb.test(zb=N.keys)&&zb,Ab=l.max,Bb=l.min,Cb=b.parseInt,Db=l.random,Eb=$.slice,Fb=hb.test(b.attachEvent),Gb=ub&&!/\n|true/.test(ub+Fb),Hb={};Hb[C]=c,Hb[D]=d,Hb[E]=f,Hb[G]=g,Hb[I]=N,Hb[H]=F,Hb[J]=O,Hb[K]=Q,Jb.prototype=Ib.prototype;var Kb=Ib.support={};Kb.fastBind=ub&&!Gb,Ib.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:s,variable:"",imports:{_:Ib}};var Tb=wb,Ub=function(a){var b,c=a,d=[];if(!c)return d;if(!M[typeof a])return d;for(b in c)ob.call(c,b)&&d.push(b);return d},Vb=zb?function(a){return nc(a)?zb(a):[]}:Ub,Wb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xb=fc(Wb),Yb=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i=typeof c=="number"?2:g.length;if(i>3&&typeof g[i-2]=="function")var j=Ib.createCallback(g[--i-1],g[i--],2);else i>2&&typeof g[i-1]=="function"&&(j=g[--i]);while(++h<i){e=g[h];if(e&&M[typeof e]){var k=-1,l=M[typeof e]&&Vb(e),m=l?l.length:0;while(++k<m)d=l[k],f[d]=j?j(f[d],e[d]):e[d]}}return f},_b=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i=typeof c=="number"?2:g.length;while(++h<i){e=g[h];if(e&&M[typeof e]){var j=-1,k=M[typeof e]&&Vb(e),l=k?k.length:0;while(++j<l)d=k[j],typeof f[d]=="undefined"&&(f[d]=e[d])}}return f},bc=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!M[typeof e])return f;b=b&&typeof c=="undefined"?b:Ib.createCallback(b,c);for(d in e)if(b(e[d],d,a)===!1)return f;return f},cc=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!M[typeof e])return f;b=b&&typeof c=="undefined"?b:Ib.createCallback(b,c);var g=-1,h=M[typeof e]&&Vb(e),i=h?h.length:0;while(++g<i){d=h[g];if(b(e[d],d,a)===!1)return f}return f},rc=function(a){if(!a||tb.call(a)!=I)return!1;var b=a.valueOf,c=typeof b=="function"&&(c=nb(b))&&nb(c);return c?a==c||nb(a)==c:Qb(a)},Wc=Fc,_c=Pb(function Rd(a,b,c){var d=-1,e=a?a.length:0,f=[];while(++d<e){var g=a[d];c&&(g=c(g,d,a)),Tb(g)?pb.apply(f,b?g:Rd(g)):f.push(g)}return f}),jd=Pb(function(a,b,c){var d=-1,e=Ob(),f=a?a.length:0,g=[],h=!b&&f>=k&&e===R,i=c||h?Y():g;if(h){var j=W(i);j?(e=S,i=j):(h=!1,i=c?i:(_(i),g))}while(++d<f){var l=a[d],m=c?c(l,d,a):l;if(b?!d||i[i.length-1]!==m:e(i,m)<0)(c||h)&&i.push(m),g.push(l)}return h?(_(i.array),ab(i)):c&&_(i),g});Gb&&P&&typeof rb=="function"&&(vd=pd(rb,b));var Hd=Cb(u+"08")==8?Cb:function(a,b){return Cb(tc(a)?a.replace(v,""):a,b||0)};return Ib.after=od,Ib.assign=Yb,Ib.at=Bc,Ib.bind=pd,Ib.bindAll=qd,Ib.bindKey=rd,Ib.compact=Xc,Ib.compose=sd,Ib.countBy=Dc,Ib.createCallback=td,Ib.debounce=ud,Ib.defaults=_b,Ib.defer=vd,Ib.delay=wd,Ib.difference=Yc,Ib.filter=Fc,Ib.flatten=_c,Ib.forEach=Hc,Ib.forIn=bc,Ib.forOwn=cc,Ib.functions=dc,Ib.groupBy=Ic,Ib.initial=bd,Ib.intersection=cd,Ib.invert=fc,Ib.invoke=Jc,Ib.keys=Vb,Ib.map=Kc,Ib.max=Lc,Ib.memoize=xd,Ib.merge=vc,Ib.min=Mc,Ib.omit=wc,Ib.once=yd,Ib.pairs=xc,Ib.partial=zd,Ib.partialRight=Ad,Ib.pick=yc,Ib.pluck=Nc,Ib.range=fd,Ib.reject=Qc,Ib.rest=gd,Ib.shuffle=Rc,Ib.sortBy=Uc,Ib.tap=Od,Ib.throttle=Bd,Ib.times=Ld,Ib.toArray=Vc,Ib.transform=zc,Ib.union=id,Ib.uniq=jd,Ib.unzip=kd,Ib.values=Ac,Ib.where=Wc,Ib.without=ld,Ib.wrap=Cd,Ib.zip=md,Ib.zipObject=nd,Ib.collect=Kc,Ib.drop=gd,Ib.each=Hc,Ib.extend=Yb,Ib.methods=dc,Ib.object=nd,Ib.select=Fc,Ib.tail=gd,Ib.unique=jd,Fd(Ib),Ib.chain=Ib,Ib.prototype.chain=function(){return this},Ib.clone=Zb,Ib.cloneDeep=$b,Ib.contains=Cc,Ib.escape=Dd,Ib.every=Ec,Ib.find=Gc,Ib.findIndex=Zc,Ib.findKey=ac,Ib.has=ec,Ib.identity=Ed,Ib.indexOf=ad,Ib.isArguments=Sb,Ib.isArray=Tb,Ib.isBoolean=gc,Ib.isDate=hc,Ib.isElement=ic,Ib.isEmpty=jc,Ib.isEqual=kc,Ib.isFinite=lc,Ib.isFunction=mc,Ib.isNaN=oc,Ib.isNull=pc,Ib.isNumber=qc,Ib.isObject=nc,Ib.isPlainObject=rc,Ib.isRegExp=sc,Ib.isString=tc,Ib.isUndefined=uc,Ib.lastIndexOf=ed,Ib.mixin=Fd,Ib.noConflict=Gd,Ib.parseInt=Hd,Ib.random=Id,Ib.reduce=Oc,Ib.reduceRight=Pc,Ib.result=Jd,Ib.runInContext=cb,Ib.size=Sc,Ib.some=Tc,Ib.sortedIndex=hd,Ib.template=Kd,Ib.unescape=Md,Ib.uniqueId=Nd,Ib.all=Ec,Ib.any=Tc,Ib.detect=Gc,Ib.findWhere=Gc,Ib.foldl=Oc,Ib.foldr=Pc,Ib.include=Cc,Ib.inject=Oc,cc(Ib,function(a,b){Ib.prototype[b]||(Ib.prototype[b]=function(){var b=[this.__wrapped__];return pb.apply(b,arguments),a.apply(Ib,b)})}),Ib.first=$c,Ib.last=dd,Ib.take=$c,Ib.head=$c,cc(Ib,function(a,b){Ib.prototype[b]||(Ib.prototype[b]=function(b,c){var d=a(this.__wrapped__,b,c);return b==null||c&&typeof b!="function"?d:new Jb(d)})}),Ib.VERSION="1.3.1",Ib.prototype.toString=Pd,Ib.prototype.value=Qd,Ib.prototype.valueOf=Qd,Hc(["join","pop","shift"],function(a){var b=$[a];Ib.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}}),Hc(["push","reverse","sort","unshift"],function(a){var b=$[a];Ib.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Hc(["concat","slice","splice"],function(a){var b=$[a];Ib.prototype[a]=function(){return new Jb(b.apply(this.__wrapped__,arguments))}}),Ib}var e,f=[],g=[],h=0,i={},j=+(new Date)+"",k=75,l=40,m=/\b__p \+= '';/g,n=/\b(__p \+=) '' \+/g,o=/(__e\(.*?\)|\b__t\)) \+\n'';/g,p=/&(?:amp|lt|gt|quot|#39);/g,q=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,r=/\w*$/,s=/<%=([\s\S]+?)%>/g,t=(t=/\bthis\b/)&&t.test(cb)&&t,u=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",v=RegExp("^["+u+"]*0+(?=.$)"),w=/($^)/,x=/[&<>"']/g,y=/['\n\r\t\u2028\u2029\\]/g,z=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],A=0,B="[object Arguments]",C="[object Array]",D="[object Boolean]",E="[object Date]",F="[object Error]",G="[object Function]",H="[object Number]",I="[object Object]",J="[object RegExp]",K="[object String]",L={};L[G]=!1,L[B]=L[C]=L[D]=L[E]=L[H]=L[I]=L[J]=L[K]=!0;var M={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},N={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},O=M[typeof c]&&c,P=M[typeof b]&&b&&b.exports==O&&b,Q=M[typeof d]&&d;Q&&(Q.global===Q||Q.window===Q)&&(a=Q);var db=cb();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(a._=db,define(function(){return db})):O&&!O.nodeType?P?(P.exports=db)._=db:O._=db:a._=db})(this)},3:function(a,b,c,d){"use strict",boxspring.define=function(a,b){var c=null,f=b.inherits||boxspring.Object;f&&(c=f.prototype);var g=_.has(b,"constructor")?b.constructor:f?function(){return f.apply(this,arguments)}:function(){};return e[a]=g,f&&(g.prototype=Object.create(c),g.prototype.constructor=g,g.parent=c),g.prototype.$kind=a,boxspring.set(d,a,g),boxspring.implement(a,b)},boxspring.get=function(a,b){},boxspring.set=function(a,b,c){return f(b,c,a||d)};var e=boxspring.constructors={},f=function(a,b,c){c||(c=d);var e=_.isArray(a)?a:a.split(".");if(e.length===1){c[a]=b;return}var g=e.shift();f(e,b,c[g]||(c[g]={}))}},4:function(a,b,c,d){"use strict",boxspring.extend=function(a,b){var c=boxspring.constructors[a];if(c==null)throw new Error("The class "+a+" does not exists");return _.each(b,function(a,b){if(b==="constructor"||b==="prototype"||b==="parent")return this;c[b]=a}),c}},5:function(a,b,c,d){"use strict",boxspring.implement=function(a,b){var c=boxspring.constructors[a];if(c==null)throw new Error("The class "+a+" does not exists");var d=c.prototype;return _.each(b,function(b,c){if(c==="statics"){boxspring.extend(a,b);return}if(c==="properties"){boxspring.properties(a,b);return}if(c==="constructor"||c==="prototype"||c==="inherits")return this;var e=Object.getOwnPropertyDescriptor(d,c);e?Object.defineProperty(d,c,e):d[c]=b}),c}},6:function(a,b,c,d){"use strict",boxspring.override=function(a,b){var c=boxspring.constructors[a];if(c==null)throw new Error("The class "+a+" does not exists");var e=c,f=c.prototype,g=_.has(b,"constructor")?b.constructor:e?function(){return e.apply(this,arguments)}:function(){};return boxspring.constructors[a]=g,e&&(g.prototype=Object.create(f),g.prototype.constructor=g,g.parent=f),g.prototype.$kind=a,_.forOwn(e,function(a,b){b!=="prototype"&&b!=="constructor"&&b!=="parent"&&b!=="$properties"&&(g[b]=a)}),boxspring.set(d,a,g),boxspring.implement(a,b)}},7:function(a,b,c,d){"use strict",boxspring.properties=function(a,b){var c=boxspring.constructors[a];if(c==null)throw new Error("The class "+a+" does not exists");var d=c.parent,e=c.prototype,f=d?d.constructor.$properties:null;return _.each(b,function(a,b){var d="__"+b,g=_.has(a,"value")?a.value:_.has(f,d)&&_.has(f[d],"value")?f[d].value:null,h=_.has(a,"write")?a.write:_.has(f,d)&&_.has(f[d],"write")?f[d].write:!0,i=_.has(a,"clone")?a.clone:_.has(f,d)&&_.has(f[d],"clone")?f[d].clone:!1,j=_.has(a,"onSet")?a.onSet:_.has(f,d)&&_.has(f[d],"onSet")?f[d].onSet:function(a){return a},k=_.has(a,"onGet")?a.onGet:_.has(f,d)&&_.has(f[d],"onGet")?f[d].onGet:function(a){return a},l=function(){if(_.has(this,d))return;if(g)switch(!0){case _.isFunction(g):this[d]=g.call(this);return;case _.isArray(g):case _.isObject(g):this[d]=_.clone(g);return}this[d]=g};c.$properties==null&&(c.$properties={}),c.$properties[b]={setup:l,value:g,write:h,clone:i,onSet:j,onGet:k},Object.defineProperty(e,b,{get:function(){var a=this[d],b=k.call(this,a);return b===undefined&&(b=a),i?_.clone(b):b},set:function(a){if(h==="once"){if(this[d+"$set"]!==undefined)throw new Error("Property "+b+" can only be written once");this[d+"$set"]=!0}else if(!h)throw new Error("Property "+b+" is read only");var c=this[d],e=j.call(this,a,c);e===undefined&&(e=c);if(e===c)return;this[d]=e,this.notifyPropertyChangeListeners&&this.notifyPropertyChangeListeners(b,e,c)}})}),c};var e=function(a,b,c,d){return b&&a in b?b[a]:c&&a in c?c[a]:d}},8:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.Object",{inherits:null,properties:{UID:{write:!1,value:function(){return f++}},kind:{write:!1,value:function(){return this.$kind}}},constructor:function(){this.__bound={},this.__propertyListeners={},this.__propertyObservers={},this.__propertyCaches={};var a=this.constructor;while(a){var b=a.$properties;if(b)for(var c in b)b[c].setup.call(this);var d=a.parent;if(d==null)break;a=d.constructor}return this},destroy:function(){return this.__bound=null,this.__propertyListeners=null,this.__propertyObservers=null,this},set:function(a,b){return i(this,a,b)},get:function(a){return j(this,a)},addPropertyChangeListener:function(a,b){var c=this.__propertyListeners[a];c==null&&(c=this.__propertyListeners[a]=[]);var d=c.indexOf(b);return d>-1?this:(c.length===0&&l(this,this,a),c.push(b),this)},hasPropertyChangeListener:function(a,b){var c=this.__propertyListeners[a];return c==null?!1:c.indexOf(b)>-1},removePropertyChangeListener:function(a,b){var c=this.__propertyListeners[a];if(c==null)return this;var d=c.indexOf(b);return d>-1&&c.splice(d,1),c.length===0&&m(this,this,a),this},removePropertyChangeListeners:function(a){var b=this.__propertyListeners[a];return b==null?this:(delete this.__propertyListeners[a],m(this,this,a),this)},notifyPropertyChangeListeners:function(a,b,c){var d=new boxspring.event.Event("propertychange",!1,!0);d.setTarget(this),d.setSource(this),this.onPropertyChange&&this.onPropertyChange(this,a,b,c,d);if(d.stopped||d.cancelled)return this;var e=this.__propertyObservers[a];if(e==null)return this;for(var f=0;f<e.length;f++){var g=e[f],h=g.observer,i=g.property,j=g.chain,k=c,n=b;j&&(n=b.get(j),k=c.get(j),m(c,h,i,j),l(b,h,i,j)),d.setParameters([i,n,k]);if(n===k)continue;var o=h.__propertyListeners[i];if(o)for(var p=0;p<o.length;p++){o[p].call(h,h,i,n,k,d);if(d.canceled||d.stoped)break}}},bind:function(a){if(a in this){var b=this.__bound[a];return b==null&&(b=this.__bound[a]=_.bind(this[a],this)),b}throw new Error('Method "'+a+'" does not exists within this object')},onPropertyChange:function(a,b,c,d,e){},__propertyListeners:null,__propertyObservers:null}),f=0,g={},h={},i=function(a,b,c){var d=g[b];return d==null&&(d=g[b]=new Function("object","value","object."+b+" = value")),d.call(null,a,c),a},j=function(a,b){var c=g[b];return c==null&&(c=g[b]=new Function("object","return object."+b)),c.call(null,a)},k=function(a,b,c,d){var e=[],f=n(b),g=a,h=null;while(f.length){var i=f.shift();p(g,i)||o("Error parsing property path "+b+" for key "+i),h=g[i];var j=e.join("."),k=f.join(".");c.call(d,g,h,i,j,k),g=g[i],e.push(i)}return a},l=function(a,b,c,d){return k(a,d||c,function(a,d,e,f,g){var h=a.__propertyObservers[e];h==null&&(h=a.__propertyObservers[e]=[]),h.push({observer:b,property:c,chain:g})}),a},m=function(a,b,c,d){return k(a,d||c,function(a,d,e,f,g){var h=a.__propertyObservers[e];if(h==null)return!1;for(var i=h.length-1;i>=0;i--){var j=h[i];j.observer===b&&j.property===c&&h.splice(i,1)}}),a},n=function(a){return a.split(".")},o=function(a){throw new Error(a)},p=function(a,b){return b in a}},9:function(a,b,c,d){"use strict",a("a"),a("b"),a("c"),a("d"),a("e"),a("f"),a("g")},a:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Point",{properties:{x:{value:0,onSet:function(a){return a||0}},y:{value:0,onSet:function(a){return a||0}}},constructor:function(a,b){e.parent.constructor.call(this);var c=arguments[0];return c instanceof e&&(a=c.x,b=c.y),this.x=a,this.y=b,this}})},b:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Size",{properties:{x:{value:0,onSet:function(a){return a||0}},y:{value:0,onSet:function(a){return a||0}}},constructor:function(a,b){e.parent.constructor.call(this);var c=arguments[0];return c instanceof e&&(a=c.x,b=c.y),this.x=a,this.y=b,this}})},c:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Rectangle",{statics:{union:function(a,b){var c=Math.min(a.origin.x,b.origin.x),d=Math.min(a.origin.y,b.origin.y),e=Math.max(a.origin.x+a.size.x,b.origin.x+b.size.x),f=Math.max(a.origin.y+a.size.y,b.origin.x+b.size.y);return new boxspring.geom.Rectangle(c,d,e-c,f-d)}},properties:{origin:{value:function(){return new boxspring.geom.Point(0,0)}},size:{value:function(){return new boxspring.geom.Size(0,0)}}},constructor:function(a,b,c,d){e.parent.constructor.call(this);var f=arguments[0];return f instanceof e&&(a=f.origin.x,b=f.origin.y,c=f.size.x,d=f.size.y),this.origin.x=a,this.origin.y=b,this.size.x=c,this.size.y=d,this}})},d:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Thickness",{properties:{top:{value:0,onSet:function(a){return a||0}},bottom:{value:0,onSet:function(a){return a||0}},left:{value:0,onSet:function(a){return a||0}},right:{value:0,onSet:function(a){return a||0}}},constructor:function(){e.parent.constructor.call(this);switch(arguments.length){case 1:this.top=arguments[0],this.left=arguments[0],this.right=arguments[0],this.bottom=arguments[0];break;case 2:this.top=arguments[0],this.left=arguments[1],this.right=arguments[1],this.bottom=arguments[0];break;default:this.top=arguments[0],this.left=arguments[1],this.right=arguments[2],this.bottom=arguments[3]}return this}})},e:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Position",{properties:{x:{value:0,onSet:function(a){return a||0}},y:{value:0,onSet:function(a){return a||0}},top:{value:0,onSet:function(a){return a||0}},bottom:{value:0,onSet:function(a){return a||0}},left:{value:0,onSet:function(a){return a||0}},right:{value:0,onSet:function(a){return a||0}}},constructor:function(){e.parent.constructor.call(this);switch(arguments.length){case 1:this.top=arguments[0],this.left=arguments[0],this.right=arguments[0],this.bottom=arguments[0];break;case 2:this.top=arguments[0],this.left=arguments[1],this.right=arguments[1],this.bottom=arguments[0];break;default:this.top=arguments[0],this.left=arguments[1],this.right=arguments[2],this.bottom=arguments[3]}return this},onPropertyChange:function(a,b,c){switch(b){case"x":this.left=c;break;case"y":this.top=c;break;case"left":this.x=c;break;case"bottom":this.y=c}e.parent.onPropertyChange.apply(this,arguments)}})},f:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Transform",{properties:{origin:{value:function(){return new boxspring.geom.Point}},translation:{value:function(){return new boxspring.geom.Point}},rotation:{value:0},scale:{value:function(){return new boxspring.geom.Point(1,1)}},shear:{value:function(){return new boxspring.geom.Point}}}})},g:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.geom.Alignment",{properties:{x:{value:"start"},y:{value:"start"}},constructor:function(a,b){e.parent.constructor.call(this);var c=arguments[0];return c instanceof e&&(a=c.x,b=c.y),this.x=a,this.y=b,this}})},h:function(a,b,c,d){"use strict",a("i"),a("j"),a("k"),a("l"),a("m"),a("n"),a("o"),a("z")},i:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.Event",{properties:{type:{write:!1},source:{write:!1},target:{write:!1},parameters:{write:!1,clone:!0,value:[]},bubbleable:{write:!1,value:!1},cancelable:{write:!1,value:!0},stopped:{write:!1,value:!1},canceled:{write:!1,value:!1}},stop:function(){return this.__stopped=!0,this},cancel:function(){return this.__stopped=!0,this.__canceled=!0,this},constructor:function(a,b,c){return e.parent.constructor.call(this),this.__bubbleable=b,this.__cancelable=c,this.__type=a,this},setTarget:function(a){return this.__target=a,this},setSource:function(a){return this.__source=a,this},setParameters:function(a){return this.__parameters=Array.prototype.slice.call(a),this}})},j:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.TouchEvent",{inherits:boxspring.event.Event,properties:{touches:{write:!1}},setTouches:function(a){return this.__touches=a,this}})},k:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.MouseEvent",{inherits:boxspring.event.Event})},l:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.Emitter",{properties:{parentReceiver:{write:!1}},constructor:function(){return e.parent.constructor.call(this),this.__listeners={},this},addListener:function(a,b){a=a.toLowerCase();if(a==="propertychange"&&this.addPropertyChangeListener)return this.addPropertyChangeListener(arguments[1],arguments[2]),this;var c=this.__listeners[a];return c==null&&(c=this.__listeners[a]=[]),_.include(c,b),this},hasListener:function(a,b){a=a.toLowerCase();if(a==="propertychange"&&this.hasPropertyListener)return this.hasPropertyListener(arguments[1],arguments[2]),this;var c=this.__listeners[a];return c==null?!1:c.indexOf(b)>-1},removeListener:function(a,b){a=a.toLowerCase();if(a==="propertychange"&&this.removePropertyListener)return this.removePropertyListener(arguments[1],arguments[2]),this;var c=this.__listeners[a];return c==null?!1:(_.remove(c,b),this)},removeAllListeners:function(a){if(a)return a=a.toLowerCase(),a==="propertychange"&&this.removePropertyListeners?(this.removePropertyListeners(arguments[1]),this):(delete this.__listeners[a],this);return this.__listeners=[],this},on:function(){return this.addListener.apply(this,arguments)},off:function(){return this.removeListener.apply(this,arguments)},once:function(a,b){var c=function(){b.apply(this,arguments),this.removeListener(a,c)};return this.addListener(a,c)},emit:function(a){typeof a=="string"&&(a=new boxspring.event.Event(a,!1,!0));var b=f.call(arguments,1);b.length&&a.setParameters(b),a.source===null&&a.setSource(this),a.setTarget(this);var c=this.__listeners&&this.__listeners[a.type];if(c){var d=a.parameters;d.push(a);for(var g=0,h=c.length;g<h;g++)c[g].apply(this,d)}if(!a.bubbleable||a.stopped)return this;var i=this.parentReceiver;return i instanceof e&&i.emit.call(i,a),this},setParentReceiver:function(a){return this.__parentReceiver=a,this},__listeners:null}),f=Array.prototype.slice},m:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.Forwarder",{properties:{receiver:{}},constructor:function(a){return e.parent.constructor.call(this),this.receiver=a,this}})},n:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.MouseForwarder",{inherits:boxspring.event.Forwarder,constructor:function(a){return e.parent.constructor.call(this,a),window.addEventListener("mousedown",this.bind("onMouseDown")),window.addEventListener("mousemove",this.bind("onMouseMove")),window.addEventListener("mouseup",this.bind("onMouseUp")),window.addEventListener("click",this.bind("onClick")),this},destroy:function(){window.removeEventListener("mousedown",this.bind("onMouseDown")),window.removeEventListener("mousemove",this.bind("onMouseMove")),window.removeEventListener("mouseup",this.bind("onMouseUp")),window.removeEventListener("click",this.bind("onClick")),e.parent.destroy.call(this)},onMouseDown:function(a){},onMouseMove:function(a){},onMouseUp:function(a){},onClick:function(a){}})},o:function(a,b,c,d){"use strict";var e=a("p"),f=boxspring.define("boxspring.event.TouchForwarder",{inherits:boxspring.event.Forwarder,properties:{touches:{value:{}}},constructor:function(a){return f.parent.constructor.apply(this,arguments),document.addEventListener("touchcancel",this.bind("onTouchCancel")),document.addEventListener("touchstart",this.bind("onTouchStart")),document.addEventListener("touchmove",this.bind("onTouchMove")),document.addEventListener("touchend",this.bind("onTouchEnd")),this},destroy:function(){this.touches=null,document.removeEventListener("touchcancel",this.bind("onTouchCancel")),document.removeEventListener("touchstart",this.bind("onTouchStart")),document.removeEventListener("touchmove",this.bind("onTouchMove")),document.removeEventListener("touchend",this.bind("onTouchEnd")),f.parent.destroy.call(this)},onTouchCancel:function(a){var b=new e;_.each(a.changedTouches,function(a){var c=this.touches[a.identifier];if(c===undefined)return;delete this.touches[a.identifier];var d=b.get(c.target);d===null&&b.set(c.target,d=[]),d.push(c)});var c=_.clone(this.touches);b.forEach(function(a,b){b.emit(new boxspring.event.TouchEvent("touchcancel",!0,!0,c),a)},this)},onTouchStart:function(a){var b=new e;_.each(a.changedTouches,function(a){var c=a.pageX,d=a.pageY,e=this.receiver.viewAtPoint(c,d);if(e){var f=new boxspring.event.Touch;f.setLocation(c,d),f.setTarget(e),this.touches[a.identifier]=f;var g=b.get(e);g===null&&b.set(e,g=[]),g.push(f)}},this);var c=_.clone(this.touches);b.forEach(function(a,b){b.emit(new boxspring.event.TouchEvent("touchstart",!0,!0,c),a)})},onTouchMove:function(a){var b=new e;_.each(a.changedTouches,function(a){var c=this.touches[a.identifier];if(c===undefined)return;c.setLocation(a.pageX,a.pageY);var d=b.get(c.target);d===null&&b.set(c.target,d=[]),d.push(c)},this);var c=_.clone(this.touches);b.forEach(function(a,b){b.emit(new boxspring.event.TouchEvent("touchmove",!0,!0,c),a)})},onTouchEnd:function(a){var b=new e;_.each(a.changedTouches,function(a){var c=this.touches[a.identifier];if(c===undefined)return;delete this.touches[a.identifier];var d=b.get(c.target);d===null&&b.set(c.target,d=[]),d.push(c)},this);var c=_.clone(this.touches);b.forEach(function(a,b){b.emit(new boxspring.event.TouchEvent("touchend",!0,!0,c),a)})}})},p:function(a,b,c,d){"use strict";var e=a("q"),f=a("y"),g=e({constructor:function h(){if(!this instanceof h)return new h;this.length=0,this._values=[],this._keys=[]},set:function(a,b){var c=f(this._keys,a);return c===-1?(this._keys.push(a),this._values.push(b),this.length++):this._values[c]=b,this},get:function(a){var b=f(this._keys,a);return b===-1?null:this._values[b]},count:function(){return this.length},forEach:function(a,b){for(var c=0,d=this.length;c<d;c++)if(a.call(b,this._values[c],this._keys[c],this)===!1)break;return this},map:function(a,b){var c=new g;return this.forEach(function(d,e){c.set(e,a.call(b,d,e,this))},this),c},filter:function(a,b){var c=new g;return this.forEach(function(d,e){a.call(b,d,e,this)&&c.set(e,d)},this),c},every:function(a,b){var c=!0;return this.forEach(function(d,e){if(!a.call(b,d,e,this))return c=!1},this),c},some:function(a,b){var c=!1;return this.forEach(function(d,e){if(a.call(b,d,e,this))return!(c=!0)},this),c},indexOf:function(a){var b=f(this._values,a);return b>-1?this._keys[b]:null},remove:function(a){var b=f(this._values,a);return b!==-1?(this._values.splice(b,1),this.length--,this._keys.splice(b,1)[0]):null},unset:function(a){var b=f(this._keys,a);return b!==-1?(this._keys.splice(b,1),this.length--,this._values.splice(b,1)[0]):null},keys:function(){return this._keys.slice()},values:function(){return this._values.slice()}});b.exports=g},q:function(a,b,c,d){"use strict";var e=a("r"),f=a("s"),g=a("t"),h=a("v"),i=a("w"),j=a("x"),k=Object.defineProperty,l=Object.getOwnPropertyDescriptor;try{k({},"~",{}),l({},"~")}catch(m){k=null,l=null}var n=function(a,b,c){k(this,b,l(c,b)||{writable:!0,enumerable:!0,configurable:!0,value:a})},o=function(a,b){this[b]=a},p=function(a){return f(a,k?n:o,this.prototype),this},q=/^constructor|inherits|mixin$/,r=function(a){j(a)==="function"&&(a={constructor:a});var b=a.inherits,c=e(a,"constructor")?a.constructor:b?function(){return b.apply(this,arguments)}:function(){};if(b){g(c,b);var d=b.prototype,f=c.prototype=i(d);c.parent=d,f.constructor=c}c.implement||(c.implement=p);var k=a.mixin;if(k){j(k)!=="array"&&(k=[k]);for(var l=0;l<k.length;l++)c.implement(i(k[l].prototype))}return c.implement(h(a,function(a,b){return!b.match(q)}))};b.exports=r},r:function(a,b,c,d){"use strict";var e=Object.hasOwnProperty,f=function(a,b){return e.call(a,b)};b.exports=f},s:function(a,b,c,d){"use strict";var e=a("r"),f=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a)===!1)break;return a};if(!{valueOf:0}.propertyIsEnumerable("valueOf")){var g="constructor,toString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString".split(","),h=Object.prototype;f=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a)===!1)return a;for(var f=0;d=g[f];f++){var i=a[d];if((i!==h[d]||e(a,d))&&b.call(c,i,d,a)===!1)break}return a}}b.exports=f},t:function(a,b,c,d){"use strict";var e=a("u"),f=function(a,b){this[b]=a},g=function(a){for(var b=1,c=arguments.length;b<c;b++)e(arguments[b],f,a);return a};b.exports=g},u:function(a,b,c,d){"use strict";var e=a("s"),f=a("r"),g=function(a,b,c){return e(a,function(d,e){if(f(a,e))return b.call(c,d,e,a)}),a};b.exports=g},v:function(a,b,c,d){"use strict";var e=a("s"),f=function(a,b,c){var d={};return e(a,function(e,f){b.call(c,e,f,a)&&(d[f]=e)}),d};b.exports=f},w:function(a,b,c,d){"use strict";var e=function(a){var b=function(){};return b.prototype=a,new b};b.exports=e},x:function(a,b,c,d){"use strict";var e=Object.prototype.toString,f=/number|object|array|string|function|date|regexp|boolean/,g=function(a){if(a==null)return"null";var b=e.call(a).slice(8,-1).toLowerCase();return b==="number"&&isNaN(a)?"null":f.test(b)?b:"object"};b.exports=g},y:function(a,b,c,d){"use strict";var e=function(a,b,c){for(var d=a.length>>>0,e=c<0?Math.max(0,d+c):c||0;e<d;e++)if(a[e]===b)return e;return-1};b.exports=e},z:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.event.Touch",{properties:{identifier:{write:!1,value:function(){return(f++).toString(36)}},target:{write:!1},location:{write:!1,value:function(){return new boxspring.geom.Point(0,0)}}},setTarget:function(a){return this.__target=a,this},setLocation:function(a,b){return this.__location.x=a,this.__location.y=b,this}}),f=Date.now()},10:function(a,b,c,d){"use strict",a("11")},11:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.render.RenderLoop",{statics:{run:function(a,b){f.run(a,b)},cancel:function(a){f.cancel(a)}},constructor:function(){return e.parent.constructor.apply(this,arguments),this.__levels=[],this.__queues={},this},destroy:function(){this.__levels=null,this.__queues=null,e.parent.destroy.call(this)},run:function(a,b){b==null&&(b=e.DEFAULT_PRIORITY),_.include(this.__levels,b);var c=this.__queues[b];c==null&&(c=this.__queues[b]=[]);var d=c.indexOf(a);return d===-1&&(c.push(a),this.__request==null&&(this.__request=h(this.bind("loop"))),this.__processing&&this.__processingLevel>=b&&(this.__reschedule=!0),this.__actions++),this},cancel:function(a){for(var b in this.__queues){var c=this.__queues[b],d=c.indexOf(a);if(d>-1){c.splice(d,1),this.__actions--;break}}return this.__actions===0&&(this.__request=g(this.bind("loop"))),this},loop:function(){var a=Date.now();this.__processing=!0,this.__levels.sort();for(var b=0;b<this.__levels.length;b++){var c=this.__levels[b],d=this.__queues[c];if(d.length===0)continue;this.__queues[c]=[],this.__processingLevel=c,this.__processingQueue=d;for(var e=0;e<d.length;e++)this.__processingAction=d[e],this.__processingAction.call(null,a),this.__processingAction=null,this.__actions--}return this.__processing=!1,this.__processingQueue=null,this.__processingLevel=null,this.__reschedule?(this.__reschedule=!1,this.__request=h(this.bind("loop"))):this.__request=null,this},__levels:null,__queues:null,__request:null,__actions:0,__processing:!1,__processingLevel:null,__processingQueue:null,__processingAction:null,__reschedule:!1}),f=new e;e.DEFAULT_PRIORITY=50,e.ANIMATION_PRIORITY=250,e.RENDER_PRIORITY=500;var g=webkitCancelAnimationFrame,h=webkitRequestAnimationFrame},12:function(a,b,c,d){"use strict",a("13"),a("14"),a("17"),a("18"),a("19"),a("1a"),a("1c"),a("1d"),a("1e"),a("1f"),a("1g")},13:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.TypeEvaluator",{evaluate:function(a,b,c){}})},14:function(a,b,c,d){"use strict";var e=a("15"),f=boxspring.define("boxspring.animation.ColorEvaluator",{inherit:boxspring.animation.TypeEvaluator,evaluate:function(a,b,c){var d=e(b),f=e(c);d.a==null&&(d.a=1),f.a==null&&(f.a=1);var g=Math.round(a*(f.r-d.r)+d.r),h=Math.round(a*(f.g-d.g)+d.g),i=Math.round(a*(f.b-d.b)+d.b),j=a*(f.a-d.a)+d.a;return j=Math.round(j*100)/100,"rgba("+g+","+h+","+i+","+j+")"}})},15:function(a,b,c,d){function f(a){return g(a)||k(a)||j(a)||h(a)||i(a)}function g(a){var b=e[a.toLowerCase()];if(!b)return;return{r:b[0],g:b[1],b:b[2]}}function h(a){if(0==a.indexOf("rgb(")){a=a.match(/rgb\(([^)]+)\)/)[1];var b=a.split(/ *, */).map(Number);return{r:b[0],g:b[1],b:b[2],a:1}}}function i(a){if(0==a.indexOf("rgba(")){a=a.match(/rgba\(([^)]+)\)/)[1];var b=a.split(/ *, */).map(Number);return{r:b[0],g:b[1],b:b[2],a:b[3]}}}function j(a){if("#"==a[0]&&7==a.length)return{r:parseInt(a.slice(1,3),16),g:parseInt(a.slice(3,5),16),b:parseInt(a.slice(5,7),16),a:1}}function k(a){if("#"==a[0]&&4==a.length)return{r:parseInt(a[1]+a[1],16),g:parseInt(a[2]+a[2],16),b:parseInt(a[3]+a[3],16),a:1}}var e=a("16");b.exports=f},16:function(a,b,c,d){b.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]}},17:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.ImageEvaluator",{inherit:boxspring.animation.TypeEvaluator,evaluate:function(a,b,c){return c}})},18:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.NumberEvaluator",{inherit:boxspring.animation.TypeEvaluator,evaluate:function(a,b,c){return a*(c-b)+b}})},19:function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.AnimationScheduler",{statics:{add:function(a){a.on("start",j),a.on("pause",k),a.on("end",l)},remove:function(a){a.off("start",j),a.off("pause",k),a.off("end",l)}}}),f=[],g=function(){boxspring.render.RenderLoop.run(i,boxspring.render.RenderLoop.ANIMATION_PRIORITY)},h=function(){boxspring.render.RenderLoop.cancel(i)},i=function(a){for(var b=f.length-1;b>=0;b--){var c=f[b];c&&c.tick(a)}f.length&&g()},j=function(a){_.include(f,a.source),f.length===1&&g()},k=function(a){_.remove(f,a.source),f.length===0&&h()},l=function(a){_.remove(f,a.source),f.length===0&&h()}},"1a":function(a,b,c,d){"use strict";var e=a("1b"),f=boxspring.define("boxspring.animation.Animation",{inherits:boxspring.event.Emitter,properties:{duration:{value:250},equation:{value:"default"},reverse:{value:!1},repeat:{value:0,onSet:function(a){if(a===!0)return Infinity}},running:{value:!1,write:!1}},constructor:function(){return f.parent.constructor.call(this),this.on("start",this.bind("onStart")),this.on("pause",this.bind("onPause")),this.on("end",this.bind("onEnd")),this},destroy:function(){this.off("start",this.bind("onStart")),this.off("pause",this.bind("onPause")),this.off("end",this.bind("onEnd")),f.parent.destroy.call(this)},start:function(){if(this.__running)return this;var a=Date.now();return this.__pauseTime?(this.__pauseTime=0,a-=this.__progress*this.duration):(this.__progressTo=0,this.__progressFrom=0),this.__running=!0,this.__startTime=a,this.__tweenTime=a,this.__pauseTime=0,this.__progress=0,this.__curve=i(this.equation,this.duration),this.emit("start"),this},pause:function(){return this.__running===!1?this:(this.__running=!1,this.__startTime=0,this.__tweenTime=0,this.__pauseTime=Date.now(),this.emit("pause"),this)},end:function(){if(this.running===!1)return this;var a=this.__progress,b=this.__progressTo;return a!==b&&this.progress(b),this.__running=!1,this.__startTime=0,this.__pauseTime=0,this.__tweenTime=0,this.__progress=0,this.__progressTo=0,this.__progressFrom=0,this.emit("end"),this},tick:function(a){var b=this.__tweenTime;if(b){var c=(a-b)/this.duration;c>1&&(c=1);var d=null,e=null,f=null;this.__reversed?(e=this.__progressTo=0,d=this.__progressFrom=1):(e=this.__progressTo=1,d=this.__progressFrom=0),f=this.__progress=h(d,e,this.__curve(c)),this.progress(f);if(c===1){var g=this.reverse?this.repeat*2-1:this.repeat,i=++this.__repeated;if(i>=g){this.end();return}this.reverse&&(this.__reversed=!this.__reversed),this.__tweenTime=a}}},progress:function(a){},onStart:function(a){},onPause:function(a){},onEnd:function(a){},__curve:null,__startTime:0,__pauseTime:0,__tweenTime:0,__progress:0,__progressTo:0,__progressFrom:0,__repeated:0,__reversed:!1}),g={"default":"cubic-bezier(0.25, 0.1, 0.25, 1.0)",linear:"cubic-bezier(0, 0, 1, 1)","ease-in":"cubic-bezier(0.42, 0, 1.0, 1.0)","ease-out":"cubic-bezier(0, 0, 0.58, 1.0)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1.0)"},h=function(a,b,c){return(b-a)*c+a},i=function(a,b){return typeof a=="function"?a:(a=g[a]||a,a=a.replace(/\s+/g,""),a=a.match(/cubic-bezier\(([-.\d]+),([-.\d]+),([-.\d]+),([-.\d]+)\)/),e(+a[1],+a[2],+a[3],+a[4],1e3/60/b/4))}},"1b":function(a,b,c,d){b.exports=function(a,b,c,d,e){var f=function(b){var d=1-b;return 3*d*d*b*a+3*d*b*b*c+b*b*b},g=function(a){var c=1-a;return 3*c*c*a*b+3*c*a*a*d+a*a*a},h=function(b){var d=1-b;return 3*(2*(b-1)*b+d*d)*a+3*(-b*b*b+2*d*b)*c};return function(a){var b=a,c,d,i,j,k,l;for(i=b,l=0;l<8;l++){j=f(i)-b;if(Math.abs(j)<e)return g(i);k=h(i);if(Math.abs(k)<1e-6)break;i-=j/k}c=0,d=1,i=b;if(i<c)return g(c);if(i>d)return g(d);while(c<d){j=f(i);if(Math.abs(j-b)<e)return g(i);b>j?c=i:d=i,i=(d-c)*.5+c}return g(i)}}},"1c":function(a,b,c,d){"use strict";var e=boxspring.animation.AnimationScheduler,f=boxspring.define("boxspring.animation.AnimationGroup",{inherits:boxspring.animation.Animation,properties:{animations:{write:!1,clone:!0,value:[]}},constructor:function(){return f.parent.constructor.call(this),e.add(this),this},destroy:function(){_.invoke(this.__animations,"destroy"),e.remove(this),f.parent.destroy.call(this)},progress:function(a){_.invoke(this.__animations,"progress",a)},addAnimation:function(a){return _.include(this.__animations,a),this},removeAnimation:function(a){return _.remove(this.__animations,a),this},removeAllAnimations:function(a){return this.__animations=[],this},animationAt:function(a){return this.__animations[a]||null}})},"1d":function(a,b,c,d){"use strict";var e=boxspring.animation.AnimationScheduler,f=boxspring.define("boxspring.animation.ValueAnimation",{inherits:boxspring.animation.Animation,properties:{evaluator:{value:function(){return new boxspring.animation.NumberEvaluator}},value:{},from:{},to:{}},constructor:function(){return f.parent.constructor.call(this),this.on("update",this.bind("onUpdate")),e.add(this),this},destroy:function(){e.remove(this),this.off("update",this.bind("onUpdate")),f.parent.destroy.call(this)},progress:function(a){this.emit("update",this.value=this.evaluator.evaluate(a,this.from,this.to))},onUpdate:function(a){}})},"1e":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.ObjectAnimation",{inherits:boxspring.animation.ValueAnimation,properties:{target:{},property:{}},progress:function(a){PropertyAnimation.parent.progress.apply(this,arguments);var b=this.target;if(b==null)throw new Error("Missing target for object animator");var c=this.property;if(c==null)throw new Error("Missing property for object animator");b.set(c,this.value)}})},"1f":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.animation.ViewPropertyAnimation",{inherits:boxspring.animation.ValueAnimation,properties:{view:{},property:{}},onPropertyChange:function(a,b,c){e.parent.onPropertyChange.apply(this,arguments);if(b==="property"||b==="view"&&c){var d=this.view;if(d==null)return;var f=d.animatedPropertyEvaluator(this.property);if(f==null)throw new Error("Property "+this.property+" is not animatable");this.evaluator=f}},onStart:function(a){this.view.emit("propertyanimationstart",this.property,this.from)},onPause:function(a){this.view.emit("propertyanimationpause",this.property,this.from)},onUpdate:function(a){this.view.emit("propertyanimationupdate",this.property,this.value)},onEnd:function(a){this.view.emit("propertyanimationend",this.property,this.value)}})},"1g":function(a,b,c,d){"use strict";var e=boxspring.animation.AnimationScheduler,f=boxspring.animation.PropertyAnimation,g=boxspring.define("boxspring.animation.ViewPropertyTransaction",{inherits:boxspring.animation.AnimationGroup,constructor:function(){return g.parent.constructor.call(this),_.include(h,this),this.__animatedViews={},this.__animatedItems={},this.__animatedProperties={},this},destroy:function(){_.remove(h,this),this.__animatedViews=null,this.__animatedItems=null,this.__animatedProperties=null,g.parent.destroy.call(this)},addAnimatedProperty:function(a,b,c,d){this.__animatedViews[a.UID]=a;var e=this.__animatedProperties[b];e==null&&(e=this.__animatedProperties[b]={});for(var f=0;f<h.length;f++){var g=h[f];if(g===this)continue;var i=g.animationForViewProperty(a,b);if(i===null)continue;g.removeAnimatedProperty(a,b),e[a.UID]=i,g.running?(i.from=i.value===null?i.from:i.value,i.end()):i.from=c,this.__animatedItems[a.UID]++;break}var i=e[a.UID];return i==null&&(i=e[a.UID]=new boxspring.animation.ViewPropertyAnimation,i.property=b,i.view=a,i.from=c,this.__animatedItems[a.UID]==null&&(this.__animatedItems[a.UID]=0),this.__animatedItems[a.UID]++),i.to=d,i.__transaction=this,this.addAnimation(i),this},removeAnimatedProperty:function(a,b){var c=this.__animatedProperties[b];if(c==null)return this;var d=c[a.UID];return d==null?this:(--this.__animatedItems[a.UID]===0&&(delete this.__animatedViews[a.UID],delete this.__animatedItems[a.UID]),delete c[a.UID],this.removeAnimation(d),d.__transaction=null,this)},animationForViewProperty:function(a,b){var c=this.__animatedProperties[b];return c==null?null:c[a.UID]||null},onStart:function(a){g.parent.onStart.apply(this,arguments),_.invoke(this.__animatedViews,"emit","animationstart")},onPause:function(a){g.parent.onPause.apply(this,arguments),_.invoke(this.__animatedViews,"emit","animationpause")},onEnd:function(a){g.parent.onEnd.apply(this,arguments),_.invoke(this.__animatedViews,"emit","animationend")},__animatedViews:null,__animatedItems:null,__animatedProperties:null}),h=[]},"1h":function(a,b,c,d){"use strict",a("1i")},"1i":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.layout.ContentLayout",{properties:{size:{value:function(){return new boxspring.geom.Size}},offset:{value:function(){return new boxspring.geom.Point}},orientation:{value:"vertical"},alignment:{value:function(){return new boxspring.geom.Alignment}}},__simple__layout__:function(a,b){var c=this.size.x,d=this.size.y,e=0,f=c,g=[],h=0,i=0;for(var j=0;j<b.length;j++){var k=b[j],l=k.position.top,m=k.position.left,n=k.position.right,o=k.position.bottom,p=k.size.x,q=k.size.y,r=k.maxSize.x,s=k.maxSize.y,t=k.minSize.x,u=k.minSize.y,v=p==="fill"?c:p,w=q==="fill"?d:q,x=0,y=0;if(l!=="auto"||o!=="auto"||m!=="auto"||n!=="auto"){m!=="auto"&&n!=="auto"&&(v=c-m-n),l!=="auto"&&o!=="auto"&&(w=d-l-o),r!=="none"&&v>r&&(v=r),t!=="none"&&v<t&&(v=t),s!=="none"&&w>s&&(w=s),u!=="none"&&w<u&&(w=u),m!=="auto"?x=m:n!=="auto"&&(x=frameSizeX-v),l!=="auto"?y=l:o!=="auto"&&(y=frameSizeY-w),a.measuredSize.x=v,a.measuredSize.y=w,a.measuredOffset.x=x+frameOffsetX,a.measuredOffset.y=y+frameOffsetY;continue}r!=="none"&&v>r&&(v=r),t!=="none"&&v<t&&(v=t),s!=="none"&&w>s&&(w=s),u!=="none"&&w<u&&(w=u);if(q==="fill")g.push(k);else{var z=w;f-=z,e+=z}k.measuredSize.x=v,k.measuredSize.y=w}i=g.length,h=f/i;for(var j=0;j<g.length;j++){var k=g[j],s=k.maxSize.y,u=k.minSize.y;if(s==="none")continue;var z=h;s!=="none"&&z>s&&(z=s),u!=="none"&&z<u&&(z=u),k.measuredSize.y=z,e+=z,f-=z,i--,h=f/i}for(var j=0;j<g.length;j++){var k=g[j],s=k.maxSize.y,u=k.minSize.y;if(s!=="none")continue;var z=h;s!=="none"&&z>s&&(z=s),u!=="none"&&z<u&&(z=u),k.measuredSize.y=z,e+=z,f-=z,i--,h=f/i}var A=0;switch(this.alignment.x){case"start":A=0;break;case"end":A=c-e;break;case"center":A=d/2-e/2}for(var j=0;j<b.length;j++){var k=b[j],l=k.position.top,m=k.position.left,n=k.position.right,o=k.position.bottom;if(l!=="auto"||o!=="auto"&&m!=="auto"||n!=="auto")continue;var v=k.measuredSize.x,w=k.measuredSize.y,x=0,y=0;y=A;switch(this.alignment.x){case"start":x=0;break;case"end":x=d-w;break;case"center":x=d/2-w/2}k.measuredOffset.x=x,k.measuredOffset.y=y,A=y+w}},layout:function(a,b){this.__simple__layout__(a,b);return;var c,d,e,f,g},__layoutHorizontally:function(a,b){var c=this.alignment.x,d=this.alignment.y,e=a.borderWidth,f=a.padding.top,g=a.padding.left,h=a.padding.bottom,i=a.padding.right,j=this.size.x-g-i-e*2,k=this.size.y-f-h-e*2,l=0,m=j,n=[],o=0,p=0;for(var q=0;q<b.length;q++){var r=b[q],s=r.position.top,t=r.position.left,u=r.position.right,v=r.position.bottom;if(s!=="auto"||v!=="auto"&&t!=="auto"||u!=="auto")continue;var w=r.size.x,x=r.size.y,y=r.maxSize.x,z=r.maxSize.y,A=r.minSize.x,B=r.minSize.y,C=r.margin.top,D=r.margin.left,E=r.margin.right,F=r.margin.bottom,G=D+E,H=C+F,I=w==="fill"?j:w,J=x==="fill"?k:x;y!=="none"&&I>y&&(I=y),A!=="none"&&I<A&&(I=A),z!=="none"&&J>z&&(J=z),B!=="none"&&J<B&&(J=B);if(w==="fill")n.push(r);else{var K=I-G;m-=K,l+=K}r.measuredSize.x=I,r.measuredSize.y=J}p=n.length,o=m/p;for(var q=0;q<n.length;q++){var r=n[q],y=r.maxSize.x,A=r.minSize.x;if(y==="none")continue;var K=o;y!=="none"&&K>y&&(K=y),A!=="none"&&K<A&&(K=A),r.measuredSize.x=K,l+=K,m-=K,p--,o=m/p}for(var q=0;q<n.length;q++){var r=n[q],y=r.maxSize.x,A=r.minSize.x;if(y!=="none")continue;var K=o;y!=="none"&&K>y&&(K=y),A!=="none"&&K<A&&(K=A),r.measuredSize.x=K,l+=K,m-=K,p--,o=m/p}var L=0;switch(c){case"start":L=g+e;break;case"end":L=g+e+j-l;break;case"center":L=j/2-l/2}for(var q=0;q<b.length;q++){var r=b[q],s=r.position.top,t=r.position.left,u=r.position.right,v=r.position.bottom;if(s!=="auto"||v!=="auto"&&t!=="auto"||u!=="auto")continue;var C=r.margin.top,D=r.margin.left,E=r.margin.right,F=r.margin.bottom,I=r.measuredSize.x,J=r.measuredSize.y,M=0,N=0;M=L+D;switch(d){case"start":N=f+e;break;case"end":N=f+e+k-J;break;case"center":N=f+e+k/2-J/2}r.measuredOffset.x=M,r.measuredOffset.y=N,L=M+I}return this},__layoutVertically:function(a,b){var c=this.alignment.x,d=this.alignment.y,e=a.borderWidth,f=a.padding.top,g=a.padding.left,h=a.padding.bottom,i=a.padding.right,j=this.size.x-g-i-e*2,k=this.size.y-f-h-e*2,l=0,m=k,n=[],o=0,p=0;for(var q=0;q<b.length;q++){var r=b[q],s=r.position.top,t=r.position.left,u=r.position.right,v=r.position.bottom;if(s!=="auto"||v!=="auto"&&t!=="auto"||u!=="auto")continue;var w=r.size.x,x=r.size.y,y=r.maxSize.x,z=r.maxSize.y,A=r.minSize.x,B=r.minSize.y,C=r.margin.top,D=r.margin.left,E=r.margin.right,F=r.margin.bottom,G=D+E,H=C+F,I=w==="fill"?j:w,J=x==="fill"?k:x;y!=="none"&&I>y&&(I=y),A!=="none"&&I<A&&(I=A),z!=="none"&&J>z&&(J=z),B!=="none"&&J<B&&(J=B);if(x==="fill")n.push(r);else{var K=J-H;m-=K,l+=K}r.measuredSize.x=I,r.measuredSize.y=J}p=n.length,o=m/p;for(var q=0;q<n.length;q++){var r=n[q],z=r.maxSize.y,B=r.minSize.y;if(z==="none")continue;var K=o;z!=="none"&&K>z&&(K=z),B!=="none"&&K<B&&(K=B),r.measuredSize.y=K,l+=K,m-=K,p--,o=m/p}for(var q=0;q<n.length;q++){var r=n[q],z=r.maxSize.y,B=r.minSize.y;if(z!=="none")continue;var K=o;z!=="none"&&K>z&&(K=z),B!=="none"&&K<B&&(K=B),r.measuredSize.y=K,l+=K,m-=K,p--,o=m/p}var L=0;switch(d){case"start":L=f+e;break;case"end":L=f+e+j-l;break;case"center":L=k/2-l/2}for(var q=0;q<b.length;q++){var r=b[q],s=r.position.top,t=r.position.left,u=r.position.right,v=r.position.bottom;if(s!=="auto"||v!=="auto"&&t!=="auto"||u!=="auto")continue;var C=r.margin.top,D=r.margin.left,E=r.margin.right,F=r.margin.bottom,I=r.measuredSize.x,J=r.measuredSize.y,M=0,N=0;N=L+C;switch(c){case"start":M=f+e;break;case"end":M=f+e+k-J;break;case"center":M=f+e+k/2-J/2}r.measuredOffset.x=M,r.measuredOffset.y=N,L=N+J}return this}})},"1j":function(a,b,c,d){"use strict",a("1k"),a("1l"),a("1m"),a("1n"),a("1o"),a("1p")},"1k":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.view.View",{inherits:boxspring.event.Emitter,statics:{setupAnimation:function(a,b){var c=h();c&&c.layoutIfNeeded();var d=new boxspring.animation.ViewPropertyTransaction;return a&&(d.duration=a),b&&(d.equation=b),d.on("end",function(){_.remove(n,d),d.destroy()}),_.include(m,d),d},startAnimation:function(){var a=h();a&&a.layoutIfNeeded(),n=m,m=[],_.invoke(n,"start")},animationStatus:function(){return n.length?"running":m.length?"reading":"idle"}},properties:{name:{value:null},window:{value:null,write:!1},parent:{value:null,write:!1},children:{value:[],write:!1,clone:!0},content:{value:function(){return new boxspring.layout.ContentLayout}},backgroundColor:{value:"#fff"},backgroundImage:{value:""},backgroundRepeat:{value:"repeat"},backgroundSize:{value:function(){return new boxspring.geom.Size("auto","auto")}},backgroundClip:{value:"border"},borderColor:{value:"#000"},borderWidth:{value:0},borderRadius:{value:0},shadowBlur:{value:0},shadowColor:{value:"#000"},shadowOffset:{value:function(){return new boxspring.geom.Point}},transform:{value:function(){return new boxspring.geom.Transform}},overflow:{value:"visible"},visible:{value:!0},opacity:{value:1},margin:{value:function(){return new boxspring.geom.Thickness},onSet:function(a){typeof a=="number"&&(this.margin.top=a,this.margin.left=a,this.margin.right=a,this.margin.bottom=a)}},padding:{value:function(){return new boxspring.geom.Thickness},onSet:function(a){typeof a=="number"&&(this.padding.top=a,this.padding.left=a,this.padding.right=a,this.padding.bottom=a)}},position:{value:function(){return new boxspring.geom.Position("auto")}},size:{value:function(){return new boxspring.geom.Size("fill","fill")}},minSize:{value:function(){return new boxspring.geom.Size("none","none")}},maxSize:{value:function(){return new boxspring.geom.Size("none","none")}},measuredSize:{value:function(){return new boxspring.geom.Size("none","none")}},measuredOffset:{value:function(){return new boxspring.geom.Point("none","none")}},absoluteOffset:{value:function(){return new boxspring.geom.Point(0,0)}}},constructor:function(){e.parent.constructor.call(this);var a=this.bind("onPropertyChange");return this.on("propertychange","size.x",a),this.on("propertychange","size.y",a),this.on("propertychange","minSize.x",a),this.on("propertychange","minSize.y",a),this.on("propertychange","maxSize.x",a),this.on("propertychange","maxSize.y",a),this.on("propertychange","shadowBlur",a),this.on("propertychange","shadowColor",a),this.on("propertychange","shadowOffset.x",a),this.on("propertychange","shadowOffset.y",a),this.on("propertychange","margin.top",a),this.on("propertychange","margin.left",a),this.on("propertychange","margin.right",a),this.on("propertychange","margin.bottom",a),this.on("propertychange","padding.top",a),this.on("propertychange","padding.left",a),this.on("propertychange","padding.right",a),this.on("propertychange","padding.bottom",a),this.on("propertychange","position.top",a),this.on("propertychange","position.left",a),this.on("propertychange","position.right",a),this.on("propertychange","position.bottom",a),this.on("propertychange","measuredSize.x",a),this.on("propertychange","measuredSize.y",a),this.on("propertychange","measuredOffset.x",a),this.on("propertychange","measuredOffset.y",a),this.on("propertychange","content.size.x",a),this.on("propertychange","content.size.y",a),this.on("propertychange","content.offset.x",a),this.on("propertychange","content.offset.y",a),this.on("propertychange","content.alignment.x",a),this.on("propertychange","content.alignment.y",a),this.on("propertychange","content.orientation",a),this.on("propertychange","transform.origin.x",a),this.on("propertychange","transform.origin.y",a),this.on("propertychange","transform.translation.x",a),this.on("propertychange","transform.translation.y",a),this.on("propertychange","transform.rotation",a),this.on("propertychange","transform.scale.x",a),this.on("propertychange","transform.scale.y",a),this.on("propertychange","transform.shear.x",a),this.on("propertychange","transform.shear.y",a),this.on("propertyanimationstart",this.bind("onPropertyAnimationStart")),this.on("propertyanimationupdate",this.bind("onPropertyAnimationUpdate")),this.on("propertyanimationend",this.bind("onPropertyAnimationEnd")),this.on("layout",this.bind("onLayout")),this.on("redraw",this.bind("onRedraw")),this.on("add",this.bind("onAdd")),this.on("remove",this.bind("onRemove")),this.on("addtoparent",this.bind("onAddToParent")),this.on("addtowindow",this.bind("onAddToWindow")),this.on("removefromparent",this.bind("onRemoveFromParent")),this.on("removefromwindow",this.bind("onRemoveFromWindow")),this.on("touchcancel",this.bind("onTouchCancel")),this.on("touchstart",this.bind("onTouchStart")),this.on("touchmove",this.bind("onTouchMove")),this.on("touchend",this.bind("onTouchEnd")),this.__animatedPropertyValues={},this},destroy:function(){this.removeFromParent();var a=this.bind("onPropertyChange");return this.off("propertychange","size.x",a),this.off("propertychange","size.y",a),this.off("propertychange","minSize.x",a),this.off("propertychange","minSize.y",a),this.off("propertychange","maxSize.x",a),this.off("propertychange","maxSize.y",a),this.off("propertychange","shadowBlur",a),this.off("propertychange","shadowColor",a),this.off("propertychange","shadowOffset.x",a),this.off("propertychange","shadowOffset.y",a),this.off("propertychange","margin.top",a),this.off("propertychange","margin.left",a),this.off("propertychange","margin.right",a),this.off("propertychange","margin.bottom",a),this.off("propertychange","padding.top",a),this.off("propertychange","padding.left",a),this.off("propertychange","padding.right",a),this.off("propertychange","padding.bottom",a),this.off("propertychange","position.top",a),this.off("propertychange","position.left",a),this.off("propertychange","position.right",a),this.off("propertychange","position.bottom",a),this.off("propertychange","measuredSize.x",a),this.off("propertychange","measuredSize.y",a),this.off("propertychange","measuredOffset.x",a),this.off("propertychange","measuredOffset.y",a),this.off("propertychange","content.offset.x",a),this.off("propertychange","content.offset.y",a),this.off("propertychange","transform.origin.x",a),this.off("propertychange","transform.origin.y",a),this.off("propertychange","transform.translation.x",a),this.off("propertychange","transform.translation.y",a),this.off("propertychange","transform.rotation",a),this.off("propertychange","transform.scale.x",a),this.off("propertychange","transform.scale.y",a),this.off("propertyanimationstart",this.bind("onPropertyAnimationStart")),this.off("propertyanimationupdate",this.bind("onPropertyAnimationUpdate")),this.off("propertyanimationend",this.bind("onPropertyAnimationEnd")),this.off("layout",this.bind("onLayout")),this.off("redraw",this.bind("onRedraw")),this.off("add",this.bind("onAdd")),this.off("remove",this.bind("onRemove")),this.off("addtoparent",this.bind("onAddToParent")),this.off("addtowindow",this.bind("onAddToWindow")),this.off("removefromparent",this.bind("onRemoveFromParent")),this.off("removefromwindow",this.bind("onRemoveFromWindow")),this.off("touchcancel",this.bind("onTouchCancel")),this.off("touchstart",this.bind("onTouchStart")),this.off("touchmove",this.bind("onTouchMove")),this.off("touchend",this.bind("onTouchEnd")),this.removeAllListeners(),e.parent.destroy.call(this)},addChild:function(a){return this.addChildAt(a,this.__children.length)},addChildAt:function(a,b){a.removeFromParent();var c=this.__children;return b>c.length?b=c.length:b<0&&(b=0),c.splice(b,0,a),a.setWindow(this.window),a.setParent(this),a.setParentReceiver(this),this.emit("add",a),this.scheduleLayout(),this},addChildBefore:function(a,b){var c=this.childIndex(b);return c===null?this:this.addChildAt(a,c)},addChildAfter:function(a,b){var c=this.childIndex(before);return c===null?this:this.addChildAt(a,c+1)},removeChild:function(a){var b=this.childIndex(a);return b===null?this:this.removeChildAt(b)},removeChildAt:function(a){var b=this.__children,c=b[a];return c==null?this:(b.splice(a,1),c.setWindow(null),c.setParent(null),c.setParentReceiver(null),this.emit("remove",c),this.scheduleLayout(),this)},removeFromParent:function(){var a=this.parent;return a&&a.removeChild(this),this},childIndex:function(a){return this.__children.indexOf(a)},childByName:function(a){},childAt:function(a){return this.__children[a]||null},viewAtPoint:function(a,b){if(this.pointInside(a,b)===!1)return null;var c=this.measuredOffset,d=a-c.x,e=b-c.y,f=this.__children;for(var g=f.length-1;g>=0;g--){var h=f[g];if(h.pointInside(d,e))return h.viewAtPoint(d,e)}return this},pointInside:function(a,b){var c=arguments[0];c instanceof boxspring.geom.Point&&(a=c.x,b=c.y);var d=this.measuredSize,e=this.measuredOffset;return a>=e.x&&a<=e.x+d.x&&b>=e.y&&b<=e.y+d.y},animate:function(a,b,c,d){return e.beginAnimation(c,d),this.set(a,b),e.startAnimation(),this},animatedPropertyValue:function(a){var b=this.__animatedPropertyValues[a];return b==null?this.get(a):b},animatedPropertyEvaluator:function(a){switch(a){case"backgroundColor":case"borderColor":case"shadowColor":return new boxspring.animation.ColorEvaluator;case"backgroundImage":return new boxspring.animation.ImageEvaluator;case"backgroundSize.x":case"backgroundSize.y":case"borderWidth":case"borderRadius":case"shadowBlur":case"shadowOffset.x":case"shadowOffset.y":case"opacity":case"measuredSize.x":case"measuredSize.y":case"measuredOffset.x":case"measuredOffset.y":case"content.offset.x":case"content.offset.y":case"transform.origin.x":case"transform.origin.y":case"transform.translation.x":case"transform.translation.y":case"transform.rotation":case"transform.scale.x":case"transform.scale.y":case"transform.shear.x":case"transform.shear.y":return new boxspring.animation.NumberEvaluator}return null},propertyIsAnimatable:function(a){return l.indexOf(a)!==-1},redrawOnPropertyChange:function(a){return!1},reflowOnPropertyChange:function(a){return j.indexOf(a)!==-1},layoutOnPropertyChange:function(a){return k.indexOf(a)!==-1},scheduleRedraw:function(){return this.__needsRedraw===!1&&(this.__needsRedraw=!0,g.push(this)),this},scheduleLayout:function(){return this.__needsLayout===!1&&(this.__needsLayout=!0,f.push(this)),this},scheduleReflow:function(){var a=this.parent;return a&&a.scheduleLayout(),this},redrawIfNeeded:function(a){return this.__needsRedraw&&(this.__needsRedraw=!1,this.redraw(a),this.emit("redraw",a),_.remove(this,g)),this},layoutIfNeeded:function(){var a=this.parent;if(a&&a.__needsLayout){a.layoutIfNeeded();return}return this.__needsLayout&&(this.__needsLayout=!1,this.layout(),this.emit("layout"),_.remove(this,f)),_.invoke(this.__children,"layoutIfNeeded"),this},redraw:function(a){return this},layout:function(){return this.content&&(this.content.size.x=this.measuredSize.x,this.content.size.y=this.measuredSize.y,this.content.layout(this,this.children)),this},onPropertyChange:function(a,b,c,d,e){this.redrawOnPropertyChange(b)&&this.scheduleRedraw(),this.layoutOnPropertyChange(b)&&this.scheduleLayout(),this.reflowOnPropertyChange(b)&&this.scheduleReflow();var f=this.parent;if(f)switch(b){case"measuredOffset.x":this.absoluteOffset.x=f.absoluteOffset.x+c;break;case"measuredOffset.y":this.absoluteOffset.y=f.absoluteOffset.y+c}var g=_.last(m);if(g&&this.propertyIsAnimatable(b)){var h=c,i=d;if(b==="measuredSize.x"&&d==="none"||b==="measuredSize.y"&&d==="none"||b==="measuredOffset.x"&&d==="none"||b==="measuredOffset.y"&&d==="none")i=h;g.addAnimatedProperty(this,b,i,h)}},onRedraw:function(a){},onLayout:function(a){},onAdd:function(a,b){},onRemove:function(a,b){},onAddToParent:function(a,b){},onRemoveFromParent:function(a,b){},onAddToWindow:function(a,b){},onRemoveFromWindow:function(a,b){},onPropertyAnimationStart:function(a,b){this.__animatedPropertyValues[a]=b},onPropertyAnimationUpdate:function(a,b){this.__animatedPropertyValues[a]=b},onPropertyAnimationEnd:function(a,b){delete this.__animatedPropertyValues[a]},onTouchCancel:function(a,b){},onTouchStart:function(a,b){},onTouchMove:function(a,b){},onTouchEnd:function(a,b){},setParent:function(a){var b=this.__parent;return b&&a===null?(this.__parent=a,this.emit("propertychange","parent",a),this.emit("removefromparent",b),this):b===null&&a?(this.__parent=a,this.emit("propertychange","parent",a),this.emit("addtoparent",b),this):this},setWindow:function(a){var b=this.__window;return b&&a===null?(this.__window=a,this.emit("propertychange","window",a),this.emit("removefromwindow",a),this):b===null&&a?(this.__window=a,this.emit("propertychange","window",a),this.emit("addtowindow",b),this):(_.invoke(this.__children,"setWindow",a),this)},__needsRedraw:!1,__needsLayout:!1,__animatedPropertyValues:null}),f=[],g=[],h=function(){var a=null;for(var b=0;b<f.length;b++){var c=f[b];if(c instanceof boxspring.view.Window)return c;if(c.window==null)continue;var d=!0,e=c.parent;while(e){if(e===a){d=!1;break}e=e.parent}d&&(a=c)}return a},i=function(){var a=null;for(var b=0;b<g.length;b++){var c=g[b];if(c instanceof boxspring.view.Window)return c;if(c.window==null)continue;var d=!0,e=c.parent;while(e){if(e===a){d=!1;break}e=e.parent}d&&(a=c)}return a},j=["size.x","size.y","minSize.x","minSize.y","maxSize.x","maxSize.y","visible","margin.top","margin.left","margin.right","margin.bottom"],k=["content","content.orientation","content.size.x","content.size.y","content.offset.x","content.offset.y","content.alignment.x","content.alignment.y","measuredSize.x","measuredSize.y","borderWidth","padding.top","padding.left","padding.right","padding.bottom"],l=["backgroundColor","borderColor","shadowColor","backgroundImage","backgroundSize.x","backgroundSize.y","borderWidth","borderRadius","shadowBlur","shadowOffset.x","shadowOffset.y","opacity","measuredSize.x","measuredSize.y","measuredOffset.x","measuredOffset.y","content.offset.x","content.offset.y","transform.origin.x","transform.origin.y","transform.translation.x","transform.translation.y","transform.rotation","transform.scale.x","transform.scale.y","transform.shear.x","transform.shear.y"],m=[],n=[]},"1l":function(a,b,c,d){"use strict";var e=boxspring.override("boxspring.view.View",{destroy:function(){var a=h[this.UID];a&&(a.width=0,a.height=0,delete h[this.UID]);var b=i[this.UID];return b&&(b.width=0,b.height=0,delete i[this.UID]),e.parent.destroy.call(this),this},renderOnPropertyChange:function(a){return f.indexOf(a)!==-1},redrawOnPropertyChange:function(a){return g.indexOf(a)!==-1},scheduleRender:function(){var a=boxspring.render.RenderLoop,b=e.animationStatus();if(this.__needsRender&&b!=="running")return this;this.__needsRender=!0;var b=e.animationStatus();if(b==="reading")return this;if(this.window||this instanceof boxspring.view.Window)k===null&&(k=this),j===!1&&(j=!0,a.run(l,a.RENDER_PRIORITY));return this},scheduleRedraw:function(){return e.parent.scheduleRedraw.call(this),this.scheduleRender(),this},scheduleLayout:function(){return e.parent.scheduleLayout.call(this),this.scheduleRender(),this},redraw:function(a){return this.__redrawBackground(a),this.__redrawBorder(a),this.__redrawShadow(a),this},onPropertyChange:function(a,b,c,d,f){e.parent.onPropertyChange.apply(this,arguments);if(b==="shadowBlur"||b==="shadowColor"||b==="shadowOffset"||b==="shadowOffset.x"||b==="shadowOffset.y")this.__needsShadow=!0;this.renderOnPropertyChange(b)&&this.scheduleRender()},onPropertyAnimationUpdate:function(a,b){e.parent.onPropertyAnimationUpdate.apply(this,arguments),this.redrawOnPropertyChange(a)&&this.scheduleRedraw(),this.renderOnPropertyChange(a)&&this.scheduleRender()},__needsRender:!1,__needsShadow:!1,__redrawBackground:function(a){var b=this.measuredSize.x,c=this.measuredSize.y,d=this.animatedPropertyValue("borderRadius"),e=this.animatedPropertyValue("backgroundColor"),f=this.animatedPropertyValue("backgroundImage"),g=this.backgroundClip,h=this.backgroundRepeat;if(e||f){var i=b,j=c,k=d;g==="content"&&(i-=borderWidth*2,j-=borderWidth*2,k-=borderWidth,backgroundOriginX+=borderWidth,backgroundOriginY+=borderWidth),k<0&&(k=0),a.save(),n(a,0,0,i,j,k),e&&(a.fillStyle=e,a.fill()),f&&(a.fillStyle=a.createPattern(f,h),a.fill()),a.restore()}return this},__redrawBorder:function(a,b){var c=this.animatedPropertyValue("measuredSize.x"),d=this.animatedPropertyValue("measuredSize.y"),e=this.animatedPropertyValue("borderWidth"),f=this.animatedPropertyValue("borderColor"),g=this.animatedPropertyValue("borderRadius");if(e&&f){var h=c-e,i=d-e,j=e/2,k=e/2,l=g-e/2;l<0&&(l=0),a.save(),n(a,j,k,h,i,l),a.lineCap="butt",a.lineWidth=e,a.strokeStyle=f,a.stroke(),a.restore()}return this},__redrawShadow:function(a,b){}}),f=["measuredSize","measuredSize.x","measuredSize.y","measuredOffset","measuredOffset.x","measuredOffset.y","transform.values","transform.origin.x","transform.origin.y","transform.translation.x","transform.translation.y","transform.rotation","transform.scale.x","transform.scale.y","transform.shear.x","transform.shear.y","overflow","opacity"],g=["backgroundColor","backgroundImage","backgroundRepeat","backgroundClip","backgroundSize","backgroundSize.x","backgroundSize.y","borderRadius","borderColor","borderWidth","shadowBlur","shadowColor","shadowOffset","shadowOffset.x","shadowOffset.y"],h={},i={},j=!1,k=null,l=function(){j=!1;if(k==null)return;root.size.x==="auto"&&(k.measuredSize.x=window.innerWidth),root.size.y==="auto"&&(k.measuredSize.y=window.innerHeight),s.clearRect(0,0,r.width,r.height),m(k,s,0,0),q()},m=function(a,b){a.__needsLayout&&a.layoutIfNeeded();var c=0,d=0,e=a.parent;e&&(c=e.content.offset.x,d=e.content.offset.y);var f=a.animatedPropertyValue("measuredSize.x"),g=a.animatedPropertyValue("measuredSize.y"),i=a.animatedPropertyValue("measuredOffset.x")+c,j=a.animatedPropertyValue("measuredOffset.y")+d,l=a.animatedPropertyValue("opacity"),n=a.animatedPropertyValue("transform.origin.x"),o=a.animatedPropertyValue("transform.origin.y"),p=a.animatedPropertyValue("transform.translation.x"),q=a.animatedPropertyValue("transform.translation.y"),r=a.animatedPropertyValue("transform.rotation"),s=a.animatedPropertyValue("transform.scale.x"),t=a.animatedPropertyValue("transform.scale.y"),u=a.animatedPropertyValue("transform.shear.x"),v=a.animatedPropertyValue("transform.shear.y");b.save(),b.globalAlpha=b.globalAlpha*l,b.translate(i,j),b.translate(p,q),b.translate(n,o),b.rotate(r),b.scale(s,t),b.translate(-n,-o);var w=0,x=0+k.measuredSize.x,y=0,z=0+k.measuredSize.y,A=i,B=i+f,C=j,D=j+g;if(w<B&&x>A&&y<D&&z>C){var E=h[a.UID];if(E==null)E=h[a.UID]=document.createElement("canvas"),E.width=Math.floor(a.measuredSize.x),E.height=Math.floor(a.measuredSize.y),a.scheduleRedraw();else if(E.width!==Math.floor(a.measuredSize.x)||E.height!==Math.floor(a.measuredSize.y))E.width=a.measuredSize.x,E.height=a.measuredSize.y,a.scheduleRedraw();a.__needsRender=!1;if(a.__needsRedraw){var F=E.getContext("2d");F.save(),F.clearRect(0,0,a.measuredSize.x,a.measuredSize.y),a.redrawIfNeeded(F),F.restore()}a.overflow!=="hidden",f>0&&g>0&&E.width>0&&E.height>0&&b.drawImage(E,0,0,E.width,E.height,0,0,f,g)}var G=a.__children;for(var H=0;H<G.length;H++)m(G[H],b);b.restore()},n=function(a,b,c,d,e,f){return a.beginPath(),f?(a.moveTo(b+f,c),a.lineTo(b+d-f,c),a.quadraticCurveTo(b+d,c,b+d,c+f),a.lineTo(b+d,c+e-f),a.quadraticCurveTo(b+d,c+e,b+d-f,c+e),a.lineTo(b+f,c+e),a.quadraticCurveTo(b,c+e,b,c+e-f),a.lineTo(b,c+f),a.quadraticCurveTo(b,c,b+f,c)):a.rect(b,c,d,e),a.closePath(),this},o,p,q=function(){if(!o){o=(new Date).getTime(),p=0;return}var a=((new Date).getTime()-o)/1e3;o=(new Date).getTime(),p=1/a,s.fillText(p.toFixed(1)+"fps",10,10)},r=null,s=null;document.addEventListener("DOMContentLoaded",function(a){r=document.createElement("canvas"),r.width=window.innerWidth,r.height=window.innerHeight,document.body.appendChild(r),s=r.getContext("2d"),window.addEventListener("resize",function(){r.width=window.innerWidth,r.height=window.innerHeight})});var t=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},u=function(a){var b=t(a);return b?[a[0]/b,a[1]/b]:[0,0]},v=function(a,b){return a[0]*b[0]+a[1]*b[1]},w=Math.atan2,x=function(a,b,c,d){return[c*a[0]+d*b[0],c*a[1]+d*b[1]]},y=function(a,b,c,d,e,f){if(a*d-b*c===0)return!1;var g=[e,f],h=[[a,b],[c,d]],i=[t(h[0])];h[0]=u(h[0]);var j=v(h[0],h[1]);h[1]=x(h[1],h[0],1,-j),i[1]=t(h[1]),j/=i[1];var k=w(h[0][1],h[0][0]);return[g,k,i,j]}},"1m":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.view.ScrollView",{inherits:boxspring.view.View,properties:{contentSize:{value:function(){return new boxspring.geom.Size}}},constructor:function(){e.parent.constructor.call(this);var a=this.bind("onPropertyChange");return this.on("propertychange","contentSize.x",a),this.on("propertychange","contentSize.y",a),this.overflow="hidden",this},layout:function(){return this.content&&(this.content.size.x=this.contentSize.x==="fill"?this.measuredSize.x:this.contentSize.x,this.content.size.y=this.contentSize.y==="fill"?this.measuredSize.y:this.contentSize.y,this.content.layout(this,this.children)),this},scrollTo:function(){},scrollBy:function(){}})},"1n":function(a,b,c,d){"use strict";var e=boxspring.override("boxspring.view.ScrollView",{scroller:null,constructor:function(){e.parent.constructor.call(this);var a=this;return this.scroller=new f(function(b,c,d){a.content.offset.x=-b,a.content.offset.y=-c}),this},composite:function(a,b){e.parent.composite.call(this,a,b)},onPropertyChange:function(a,b,c,d){e.parent.onPropertyChange.apply(this,arguments);if(b==="contentSize.x"||b==="contentSize.y")this.scheduleLayout(),this.scroller.setDimensions(this.measuredSize.x,this.measuredSize.y,this.contentSize.x,this.contentSize.y);(b==="measuredSize.x"||b==="measuredSize.y")&&this.scroller.setDimensions(this.measuredSize.x,this.measuredSize.y,this.contentSize.x,this.contentSize.y),(b==="content.offset.x"||b==="content.offset.y")&&this.scheduleRender()},onTouchStart:function(a,b){var c=_.map(a,function(a){return{pageX:a.location.x,pageY:a.location.y}});this.scroller.doTouchStart(c,Date.now())},onTouchMove:function(a,b){var c=_.map(a,function(a){return{pageX:a.location.x,pageY:a.location.y}});this.scroller.doTouchMove(c,Date.now())},onTouchEnd:function(a,b){var c=_.map(a,function(a){return{pageX:a.location.x,pageY:a.location.y}});this.scroller.doTouchEnd(Date.now())}}),f;(function(){var a=function(){};f=function(b,c){this.__callback=b,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:a,penetrationDeceleration:.03,penetrationAcceleration:.08};for(var d in c)this.options[d]=c[d]};var b=function(a){return Math.pow(a-1,3)+1},c=function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},d={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(a,b,c,d){var e=this;a===+a&&(e.__clientWidth=a),b===+b&&(e.__clientHeight=b),c===+c&&(e.__contentWidth=c),d===+d&&(e.__contentHeight=d),e.__computeScrollMax(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},setPosition:function(a,b){var c=this;c.__clientLeft=a||0,c.__clientTop=b||0},setSnapSize:function(a,b){var c=this;c.__snapWidth=a,c.__snapHeight=b},activatePullToRefresh:function(a,b,c,d){var e=this;e.__refreshHeight=a,e.__refreshActivate=b,e.__refreshDeactivate=c,e.__refreshStart=d},finishPullToRefresh:function(){var a=this;a.__refreshActive=!1,a.__refreshDeactivate&&a.__refreshDeactivate(),a.scrollTo(a.__scrollLeft,a.__scrollTop,!0)},getValues:function(){var a=this;return{left:a.__scrollLeft,top:a.__scrollTop,zoom:a.__zoomLevel}},getScrollMax:function(){var a=this;return{left:a.__maxScrollLeft,top:a.__maxScrollTop}},zoomTo:function(a,b,c,d){var e=this;if(!e.options.zooming)throw new Error("Zooming is not enabled!");e.__isDecelerating&&(core.effect.Animate.stop(e.__isDecelerating),e.__isDecelerating=!1);var f=e.__zoomLevel;c==null&&(c=e.__clientWidth/2),d==null&&(d=e.__clientHeight/2),a=Math.max(Math.min(a,e.options.maxZoom),e.options.minZoom),e.__computeScrollMax(a);var g=(c+e.__scrollLeft)*a/f-c,h=(d+e.__scrollTop)*a/f-d;g>e.__maxScrollLeft?g=e.__maxScrollLeft:g<0&&(g=0),h>e.__maxScrollTop?h=e.__maxScrollTop:h<0&&(h=0),e.__publish(g,h,a,b)},zoomBy:function(a,b,c,d){var e=this;e.zoomTo(e.__zoomLevel*a,b,c,d)},scrollTo:function(a,b,c,d){var e=this;e.__isDecelerating&&(core.effect.Animate.stop(e.__isDecelerating),e.__isDecelerating=!1);if(d!=null&&d!==e.__zoomLevel){if(!e.options.zooming)throw new Error("Zooming is not enabled!");a*=d,b*=d,e.__computeScrollMax(d)}else d=e.__zoomLevel;e.options.scrollingX?e.options.paging?a=Math.round(a/e.__clientWidth)*e.__clientWidth:e.options.snapping&&(a=Math.round(a/e.__snapWidth)*e.__snapWidth):a=e.__scrollLeft,e.options.scrollingY?e.options.paging?b=Math.round(b/e.__clientHeight)*e.__clientHeight:e.options.snapping&&(b=Math.round(b/e.__snapHeight)*e.__snapHeight):b=e.__scrollTop,a=Math.max(Math.min(e.__maxScrollLeft,a),0),b=Math.max(Math.min(e.__maxScrollTop,b),0),a===e.__scrollLeft&&b===e.__scrollTop&&(c=!1),e.__publish(a,b,d,c)},scrollBy:function(a,b,c){var d=this,e=d.__isAnimating?d.__scheduledLeft:d.__scrollLeft,f=d.__isAnimating?d.__scheduledTop:d.__scrollTop;d.scrollTo(e+(a||0),f+(b||0),c)},doMouseZoom:function(a,b,c,d){var e=this,f=a>0?.97:1.03;return e.zoomTo(e.__zoomLevel*f,!1,c-e.__clientLeft,d-e.__clientTop)},doTouchStart:function(a,b){if(a.length==null)throw new Error("Invalid touch list: "+a);b instanceof Date&&(b=b.valueOf());if(typeof b!="number")throw new Error("Invalid timestamp value: "+b);var c=this;c.__interruptedAnimation=!0,c.__isDecelerating&&(core.effect.Animate.stop(c.__isDecelerating),c.__isDecelerating=!1,c.__interruptedAnimation=!0),c.__isAnimating&&(core.effect.Animate.stop(c.__isAnimating),c.__isAnimating=!1,c.__interruptedAnimation=!0);var d,e,f=a.length===1;f?(d=a[0].pageX,e=a[0].pageY):(d=Math.abs(a[0].pageX+a[1].pageX)/2,e=Math.abs(a[0].pageY+a[1].pageY)/2),c.__initialTouchLeft=d,c.__initialTouchTop=e,c.__zoomLevelStart=c.__zoomLevel,c.__lastTouchLeft=d,c.__lastTouchTop=e,c.__lastTouchMove=b,c.__lastScale=1,c.__enableScrollX=!f&&c.options.scrollingX,c.__enableScrollY=!f&&c.options.scrollingY,c.__isTracking=!0,c.__didDecelerationComplete=!1,c.__isDragging=!f,c.__isSingleTouch=f,c.__positions=[]},doTouchMove:function(a,b,c){if(a.length==null)throw new Error("Invalid touch list: "+a);b instanceof Date&&(b=b.valueOf());if(typeof b!="number")throw new Error("Invalid timestamp value: "+b);var d=this;if(!d.__isTracking)return;var e,f;a.length===2?(e=Math.abs(a[0].pageX+a[1].pageX)/2,f=Math.abs(a[0].pageY+a[1].pageY)/2):(e=a[0].pageX,f=a[0].pageY);var g=d.__positions;if(d.__isDragging){var h=e-d.__lastTouchLeft,i=f-d.__lastTouchTop,j=d.__scrollLeft,k=d.__scrollTop,l=d.__zoomLevel;if(c!=null&&d.options.zooming){var m=l;l=l/d.__lastScale*c,l=Math.max(Math.min(l,d.options.maxZoom),d.options.minZoom);if(m!==l){var n=e-d.__clientLeft,o=f-d.__clientTop;j=(n+j)*l/m-n,k=(o+k)*l/m-o,d.__computeScrollMax(l)}}if(d.__enableScrollX){j-=h*this.options.speedMultiplier;var p=d.__maxScrollLeft;if(j>p||j<0)d.options.bouncing?j+=h/2*this.options.speedMultiplier:j>p?j=p:j=0}if(d.__enableScrollY){k-=i*this.options.speedMultiplier;var q=d.__maxScrollTop;if(k>q||k<0)d.options.bouncing?(k+=i/2*this.options.speedMultiplier,!d.__enableScrollX&&d.__refreshHeight!=null&&(!d.__refreshActive&&k<=-d.__refreshHeight?(d.__refreshActive=!0,d.__refreshActivate&&d.__refreshActivate()):d.__refreshActive&&k>-d.__refreshHeight&&(d.__refreshActive=!1,d.__refreshDeactivate&&d.__refreshDeactivate()))):k>q?k=q:k=0}g.length>60&&g.splice(0,30),g.push(j,k,b),d.__publish(j,k,l)}else{var r=d.options.locking?3:0,s=5,t=Math.abs(e-d.__initialTouchLeft),u=Math.abs(f-d.__initialTouchTop);d.__enableScrollX=d.options.scrollingX&&t>=r,d.__enableScrollY=d.options.scrollingY&&u>=r,g.push(d.__scrollLeft,d.__scrollTop,b),d.__isDragging=(d.__enableScrollX||d.__enableScrollY)&&(t>=s||u>=s),d.__isDragging&&(d.__interruptedAnimation=!1)}d.__lastTouchLeft=e,d.__lastTouchTop=f,d.__lastTouchMove=b,d.__lastScale=c},doTouchEnd:function(a){a instanceof Date&&(a=a.valueOf());if(typeof a!="number")throw new Error("Invalid timestamp value: "+a);var b=this;if(!b.__isTracking)return;b.__isTracking=!1;if(b.__isDragging){b.__isDragging=!1;if(b.__isSingleTouch&&b.options.animating&&a-b.__lastTouchMove<=100){var c=b.__positions,d=c.length-1,e=d;for(var f=d;f>0&&c[f]>b.__lastTouchMove-100;f-=3)e=f;if(e!==d){var g=c[d]-c[e],h=b.__scrollLeft-c[e-2],i=b.__scrollTop-c[e-1];b.__decelerationVelocityX=h/g*(1e3/60),b.__decelerationVelocityY=i/g*(1e3/60);var j=b.options.paging||b.options.snapping?4:1;if(Math.abs(b.__decelerationVelocityX)>j||Math.abs(b.__decelerationVelocityY)>j)b.__refreshActive||b.__startDeceleration(a)}else b.options.scrollingComplete()}else a-b.__lastTouchMove>100&&b.options.scrollingComplete()}b.__isDecelerating||(b.__refreshActive&&b.__refreshStart?(b.__publish(b.__scrollLeft,-b.__refreshHeight,b.__zoomLevel,!0),b.__refreshStart&&b.__refreshStart()):((b.__interruptedAnimation||b.__isDragging)&&b.options.scrollingComplete(),b.scrollTo(b.__scrollLeft,b.__scrollTop,!0,b.__zoomLevel),b.__refreshActive&&(b.__refreshActive=!1,b.__refreshDeactivate&&b.__refreshDeactivate()))),b.__positions.length=0},__publish:function(a,d,e,f){var g=this,h=g.__isAnimating;h&&(core.effect.Animate.stop(h),g.__isAnimating=!1);if(f&&g.options.animating){g.__scheduledLeft=a,g.__scheduledTop=d,g.__scheduledZoom=e;var i=g.__scrollLeft,j=g.__scrollTop,k=g.__zoomLevel,l=a-i,m=d-j,n=e-k,o=function(a,b,c){c&&(g.__scrollLeft=i+l*a,g.__scrollTop=j+m*a,g.__zoomLevel=k+n*a,g.__callback&&g.__callback(g.__scrollLeft,g.__scrollTop,g.__zoomLevel))},p=function(a){return g.__isAnimating===a},q=function(a,b,c){b===g.__isAnimating&&(g.__isAnimating=!1),(g.__didDecelerationComplete||c)&&g.options.scrollingComplete(),g.options.zooming&&g.__computeScrollMax()};g.__isAnimating=core.effect.Animate.start(o,p,q,g.options.animationDuration,h?b:c)}else g.__scheduledLeft=g.__scrollLeft=a,g.__scheduledTop=g.__scrollTop=d,g.__scheduledZoom=g.__zoomLevel=e,g.__callback&&g.__callback(a,d,e),g.options.zooming&&g.__computeScrollMax()},__computeScrollMax:function(a){var b=this;a==null&&(a=b.__zoomLevel),b.__maxScrollLeft=Math.max(b.__contentWidth*a-b.__clientWidth,0),b.__maxScrollTop=Math.max(b.__contentHeight*a-b.__clientHeight,0)},__startDeceleration:function(a){var b=this;if(b.options.paging){var c=Math.max(Math.min(b.__scrollLeft,b.__maxScrollLeft),0),d=Math.max(Math.min(b.__scrollTop,b.__maxScrollTop),0),e=b.__clientWidth,f=b.__clientHeight;b.__minDecelerationScrollLeft=Math.floor(c/e)*e,b.__minDecelerationScrollTop=Math.floor(d/f)*f,b.__maxDecelerationScrollLeft=Math.ceil(c/e)*e,b.__maxDecelerationScrollTop=Math.ceil(d/f)*f}else b.__minDecelerationScrollLeft=0,b.__minDecelerationScrollTop=0,b.__maxDecelerationScrollLeft=b.__maxScrollLeft,b.__maxDecelerationScrollTop=b.__maxScrollTop;var g=function(a,c,d){b.__stepThroughDeceleration(d)},h=b.options.snapping?4:.1,i=function(){var a=Math.abs(b.__decelerationVelocityX)>=h||Math.abs(b.__decelerationVelocityY)>=h;return a||(b.__didDecelerationComplete=!0),a},j=function(a,c,d){b.__isDecelerating=!1,b.__didDecelerationComplete&&b.options.scrollingComplete(),b.scrollTo(b.__scrollLeft,b.__scrollTop,b.options.snapping)};b.__isDecelerating=core.effect.Animate.start(g,i,j)},__stepThroughDeceleration:function(a){var b=this,c=b.__scrollLeft+b.__decelerationVelocityX,d=b.__scrollTop+b.__decelerationVelocityY;if(!b.options.bouncing){var e=Math.max(Math.min(b.__maxDecelerationScrollLeft,c),b.__minDecelerationScrollLeft);e!==c&&(c=e,b.__decelerationVelocityX=0);var f=Math.max(Math.min(b.__maxDecelerationScrollTop,d),b.__minDecelerationScrollTop);f!==d&&(d=f,b.__decelerationVelocityY=0)}a?b.__publish(c,d,b.__zoomLevel):(b.__scrollLeft=c,b.__scrollTop=d);if(!b.options.paging){var g=.95;b.__decelerationVelocityX*=g,b.__decelerationVelocityY*=g}if(b.options.bouncing){var h=0,i=0,j=b.options.penetrationDeceleration,k=b.options.penetrationAcceleration;c<b.__minDecelerationScrollLeft?h=b.__minDecelerationScrollLeft-c:c>b.__maxDecelerationScrollLeft&&(h=b.__maxDecelerationScrollLeft-c),d<b.__minDecelerationScrollTop?i=b.__minDecelerationScrollTop-d:d>b.__maxDecelerationScrollTop&&(i=b.__maxDecelerationScrollTop-d),h!==0&&(h*b.__decelerationVelocityX<=0?b.__decelerationVelocityX+=h*j:b.__decelerationVelocityX=h*k),i!==0&&(i*b.__decelerationVelocityY<=0?b.__decelerationVelocityY+=i*j:b.__decelerationVelocityY=i*k)}}};for(var e in d)f.prototype[e]=d[e]})(),function(a){var b=Date.now||function(){return+(new Date)},c=60,d=1e3,e={},f=1;a.core?core.effect||(core.effect={}):a.core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var b=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame,c=!!b;b&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(b.toString())&&(c=!1);if(c)return function(a,c){b(a,c)};var d=60,e={},f=0,g=1,h=null,i=+(new Date);return function(a,b){var c=g++;return e[c]=a,f++,h===null&&(h=setInterval(function(){var a=+(new Date),b=e;e={},f=0;for(var c in b)b.hasOwnProperty(c)&&(b[c](a),i=a);a-i>2500&&(clearInterval(h),h=null)},1e3/d)),c}}(),stop:function(a){var b=e[a]!=null;return b&&(e[a]=null),b},isRunning:function(a){return e[a]!=null},start:function(a,g,h,i,j,k){var l=b(),m=l,n=0,o=0,p=f++;k||(k=document.body);if(p%20===0){var q={};for(var r in e)q[r]=!0;e=q}var s=function(f){var q=f!==!0,r=b();if(!e[p]||g&&!g(p)){e[p]=null,h&&h(c-o/((r-l)/d),p,!1);return}if(q){var t=Math.round((r-m)/(d/c))-1;for(var u=0;u<Math.min(t,4);u++)s(!0),o++}i&&(n=(r-l)/i,n>1&&(n=1));var v=j?j(n):n;a(v,r,q)!==!1&&n!==1||!q?q&&(m=r,core.effect.Animate.requestAnimationFrame(s,k)):(e[p]=null,h&&h(c-o/((r-l)/d),p,n===1||i==null))};return e[p]=!0,core.effect.Animate.requestAnimationFrame(s,k),p}}}(d)},"1o":function(a,b,c,d){"use strict";var e=boxspring.define("boxspring.view.Window",{inherits:boxspring.view.View,statics:{instance:function(){return f==null&&(f=new boxspring.view.Window),f}},constructor:function(){return e.parent.constructor.call(this),this.measuredOffset.x=0,this.measuredOffset.y=0,this},onAdd:function(a,b){e.parent.onAdd.apply(this,arguments),a.setWindow(this)},onRemove:function(a,b){e.parent.onRemove.apply(this,arguments),a.setWindow(null)}}),f=null},"1p":function(a,b,c,d){"use strict";var e=boxspring.override("boxspring.view.Window",{constructor:function(){return e.parent.constructor.call(this),window.addEventListener("resize",this.bind("__onWindowResize")),this},__onWindowResize:function(){this.scheduleLayout()}})}})
